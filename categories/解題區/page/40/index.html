<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="/img/f.png">
  
  <title>Category: 解題區 | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ACMer NEET NCU UVa OJ">
<meta property="og:type" content="website">
<meta property="og:title" content="Morris' Blog">
<meta property="og:url" content="http://morris821028.github.io/categories/解題區/page/40/">
<meta property="og:site_name" content="Morris' Blog">
<meta property="og:description" content="ACMer NEET NCU UVa OJ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris' Blog">
<meta name="twitter:description" content="ACMer NEET NCU UVa OJ">
<link rel="publisher" href="108158678174364350000">

  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Can you find me ?</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main">
  
    <article id="post-oj/uva/uva-12697" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/26/oj/uva/uva-12697/" class="article-date">
  <time datetime="2014-06-26T13:09:47.000Z" itemprop="datePublished">Jun 26 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/26/oj/uva/uva-12697/">UVa 12697 - Minimal Subarray Length</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/" data-id="qdm5q5t4gypd1z7b" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>You are given an integer sequence of length N and another value X. You have to find a contiguous subsequence of the given sequence such that the sum is greater or equal to<br>X. And you have to find that segment with minimal length.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">5 4</div><div class="line">1 2 1 2 1</div><div class="line">6 -2</div><div class="line">-<span class="ruby"><span class="number">5</span> -<span class="number">6</span> -<span class="number">7</span> -<span class="number">8</span> -<span class="number">9</span> -<span class="number">10</span></span></div><div class="line">5 3</div><div class="line">-<span class="ruby"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> -<span class="number">1</span></span></div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">-<span class="ruby"><span class="number">1</span></span></div><div class="line">3</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>找一段長度最小，且該區間總和大於等於指定 X。</p>
<p><strong> 題目解法： </strong></p>
<p>離散化後，利用掃描線的思路進行維護。</p>
<p>利用前綴和 SUM[i]，查找小於等於 SUM[i] - X 的最大值。</p>
<p>隨後更新 SUM[i] 位置的值 i。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXN 5024288</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> A[MAXN], SM[MAXN], SB[MAXN];</div><div class="line"><span class="comment">// binary index tree</span></div><div class="line"><span class="keyword">int</span> BIT[MAXN&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="keyword">void</span> modify(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L) {</div><div class="line">	<span class="keyword">while</span>(x &lt;= L) {</div><div class="line">		BIT[x] = max(BIT[x], v);</div><div class="line">		x += x&amp;(-x);</div><div class="line">	}</div><div class="line">}</div><div class="line"><span class="keyword">int</span> query(<span class="keyword">int</span> x) {</div><div class="line">	<span class="keyword">int</span> ret = - INF;</div><div class="line">	<span class="keyword">while</span>(x) {</div><div class="line">		ret = max(ret, BIT[x]);</div><div class="line">		x -= x&amp;(-x);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> ret;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> testcase, N, X;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">	<span class="keyword">while</span>(testcase--) {</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;N, &amp;X);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, A+i);</div><div class="line">		</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">			SM[i] = SM[i-<span class="number">1</span>] + A[i];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++)</div><div class="line">			SB[i] = SM[i];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N + <span class="number">1</span>; i++)</div><div class="line">			BIT[i] = - INF;</div><div class="line">		sort(SB, SB + N + <span class="number">1</span>);</div><div class="line"></div><div class="line">		<span class="keyword">int</span> M = unique(SB, SB + N + <span class="number">1</span>) - SB;		</div><div class="line">		<span class="keyword">int</span> ret = INF;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++) {</div><div class="line">			<span class="keyword">long</span> <span class="keyword">long</span> v = SM[i] - X;</div><div class="line">			<span class="keyword">int</span> pos = upper_bound(SB, SB + M, v) - SB;</div><div class="line">			<span class="keyword">if</span>(pos - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; i)  {</div><div class="line">				ret = min(ret, i - query(pos));</div><div class="line"><span class="comment">//				printf("query %d\n", i - query(pos));</span></div><div class="line">			}</div><div class="line">			pos = upper_bound(SB, SB + M, SM[i]) - SB;</div><div class="line">			modify(pos, i, M);</div><div class="line"><span class="comment">//			printf("%lld %d\n", v, pos);</span></div><div class="line">		}</div><div class="line">		</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret == INF ? -<span class="number">1</span> : ret);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="comment">/*</span></div><div class="line">3</div><div class="line">5 4</div><div class="line">1 2 1 2 1</div><div class="line">6 -2</div><div class="line">-5 -6 -7 -8 -9 -10</div><div class="line">5 3</div><div class="line">-1 1 1 1 -1</div><div class="line">*/</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-428" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-428/" class="article-date">
  <time datetime="2014-06-24T13:24:35.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-428/">UVa 428 - Swamp County Roofs</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/" data-id="ovpzcnaknxil19jk" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p> The Swamp County Environmental Office is concerned about the number of structures in the county. They have a theory that all the rain water landing on roofs of buildings, parking lots, roads, and highways is going down the sewage system instead of draining to the ecologically sensitive and historically important swamp land the county is famous for.</p>
<p>Your team has been hired to do the analysis of rain water captured by building roofs. The Planning Commission, which processes all building permits, and hence knows the plans of every structure in the county, will provide the data. Their database contains a set of measurements for the roofs of every building on every lot in the county.</p>
<p>The Engineering staff of the Planning Commission has determined that all the roofs in the county can be represented by one or more quadrilaterals. Each quadrilateral has the following characteristics:</p>
<pre><code><span class="property">length</span> <span class="keyword">of</span> baseline, <span class="keyword">in</span> feet;
<span class="property">length</span> <span class="keyword">of</span> ridgeline, <span class="keyword">in</span> feet;
distance <span class="keyword">between</span> baseline <span class="keyword">and</span> ridgeline, <span class="keyword">in</span> feet;
<span class="keyword">and</span> inclination <span class="keyword">of</span> <span class="keyword">the</span> roof segment, <span class="keyword">in</span> degrees. 
</code></pre><p>The baseline is always parallel to the ridgeline. A roof segment is always flat, but may be inclined. The inclination of the segment occurs along the baseline or ridgeline axis. A roof segment that is inclined 90 degrees is a wall that is assumed to have negligible thickness, and hence gathers no rain—such a segment will not appear in the data. Assume that the buildings are on level land, and that no roof segment overlaps any other. A roof segment may have either a baseline or ridgeline length of zero (such a segment is actually a triangle). A lot may contain one or more buildings, but your program need only compute the area covered by roofs on a lot-by-lot basis.</p>
<h2 id="Input">Input</h2>
<p>Each lot is represented by a series of numbers separated from each other by white space and/or new-lines. The lot size, in square feet, is followed by a list of roof segments. Each roof segment will consist of the length of the baseline, the length of the ridgeline, the distance between the baseline and the ridgeline, and the inclination. Each lot description including the last will end with a blank line.</p>
<h2 id="Output">Output</h2>
<p>For each lot compute and print the following statistics: the total roof surface area of buildings in square feet, the total floor space covered by roofs in square feet, and the percentage of rain intercepted by roofs. Print these values in labeled columns, one lot per line, with two digits after the decimal point. Print percent signs after the percentage of rain figures.</p>
<p>At the end of the run compute and print the following statistics: the total roof surface area of all roofs in the county, the total floor space covered by roofs in the county, the overall percentage of rain intercepted by roofs, the average roof surface area on a lot, and the average floor space covered by roofs on a lot. Skip a line after the per-lot listing and print these values on separate lines with appropriate labels.</p>
<p>Print each value with two digits after the decimal point. Print a percent sign after the overall percentage of rain value. Use a report format similar to that of the sample output below.</p>
<p>One of the reasons Swamp County has remained so is the relative lack of wind in the county—you may therefore assume that all rain falls vertically.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">100 10 10 10 60</div><div class="line">10 10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="variable">Roof</span> <span class="variable">Area</span>     <span class="variable">Floor</span> <span class="variable">Area</span>     <span class="comment">% Covered</span></div><div class="line"><span class="pp">---------     ----------     ---------</span></div><div class="line">   200.<span class="number">00</span>         <span class="number">100.00</span>       <span class="number">100.00</span><span class="comment">%</span></div><div class="line">   <span class="number">113.75</span>          <span class="number">86.59</span>        <span class="number">43.30</span><span class="comment">%</span></div><div class="line"> </div><div class="line"><span class="variable">Total</span> surface area <span class="keyword">of</span> roofs      <span class="number">313.75</span></div><div class="line"><span class="variable">Total</span> area covered by roofs      <span class="number">186.59</span></div><div class="line"><span class="variable">Percentage</span> <span class="keyword">of</span> total area covered by roofs   <span class="number">62.20</span><span class="comment">%</span></div><div class="line"><span class="variable">Average</span> roof surface area per lot          <span class="number">156.88</span></div><div class="line"><span class="variable">Average</span> floor space covered per lot         <span class="number">93.30</span></div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>屋頂為一個三維空間的平面，假想成梯形也可以，頃角就是單純地將梯形與平面 x-y 夾角 theta。</p>
<p>分別算出梯形面積和陰影面積。</p>
<p><strong> 題目解法： </strong></p>
<p>最坑的就是輸入，其實看了很久都沒有明白到底是怎麼區隔每一組。<br>查閱了討論區給的測資才湊出 AC 代碼。</p>
<p>想辦法讀到每一組測資是 4n + 1 個數字，否則繼續將空白行讀入。</p>
<p>brianfry713’s Input:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">100 10 10 10 60</div><div class="line">10 10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div><div class="line"></div><div class="line">100</div><div class="line"></div><div class="line">10 10 10</div><div class="line">60 10</div><div class="line"></div><div class="line">10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div><div class="line"></div><div class="line">100 0 10 7.5 45 10</div><div class="line">0 7.5 -135</div><div class="line"></div><div class="line">300</div></pre></td></tr></table></figure>

<p>brianfry713’s Output:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="variable">Roof</span> <span class="variable">Area</span>     <span class="variable">Floor</span> <span class="variable">Area</span>     <span class="comment">% Covered</span></div><div class="line"><span class="pp">---------     ----------     ---------</span></div><div class="line">   200.<span class="number">00</span>         <span class="number">100.00</span>       <span class="number">100.00</span><span class="comment">%</span></div><div class="line">   <span class="number">113.75</span>          <span class="number">86.59</span>        <span class="number">43.30</span><span class="comment">%</span></div><div class="line">     <span class="number">0.00</span>           <span class="number">0.00</span>         <span class="number">0.00</span><span class="comment">%</span></div><div class="line">   <span class="number">600.00</span>         <span class="number">590.88</span>      <span class="number">5908.85</span><span class="comment">%</span></div><div class="line">  <span class="number">7701.25</span>        <span class="number">7133.96</span>     <span class="number">71339.57</span><span class="comment">%</span></div><div class="line">     <span class="number">0.00</span>           <span class="number">0.00</span>         <span class="number">0.00</span><span class="comment">%</span></div><div class="line"></div><div class="line"><span class="variable">Total</span> surface area <span class="keyword">of</span> roofs     <span class="number">8615.00</span></div><div class="line"><span class="variable">Total</span> area covered by roofs     <span class="number">7911.43</span></div><div class="line"><span class="variable">Percentage</span> <span class="keyword">of</span> total area covered by roofs <span class="number">1098.81</span><span class="comment">%</span></div><div class="line"><span class="variable">Average</span> roof surface area per lot         <span class="number">1435.83</span></div><div class="line"><span class="variable">Average</span> floor space covered per lot       <span class="number">1318.57</span></div></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;sstream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(-<span class="number">1</span>);</div><div class="line"><span class="keyword">double</span> A, B, C, N;</div><div class="line"><span class="keyword">char</span>* getLot() {</div><div class="line">	<span class="keyword">char</span> line[<span class="number">1024</span>], *v;</div><div class="line">	<span class="built_in">string</span> ret = <span class="string">""</span>, token;</div><div class="line">	<span class="keyword">int</span> tokenCnt = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(tokenCnt%<span class="number">4</span> != <span class="number">1</span>) {</div><div class="line">		<span class="keyword">while</span>((v = gets(line)) &amp;&amp; line[<span class="number">0</span>] != <span class="string">'\0'</span>) {</div><div class="line">			ret += <span class="string">" "</span>, ret += line;</div><div class="line">			<span class="built_in">stringstream</span> ss(line);</div><div class="line">			<span class="keyword">while</span>(ss &gt;&gt; token)</div><div class="line">				tokenCnt++;</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(!v)</div><div class="line">			<span class="keyword">return</span> v;</div><div class="line">	}</div><div class="line">	<span class="built_in">stringstream</span> <span class="built_in">sin</span>(ret);</div><div class="line">	<span class="keyword">double</span> lotsize, baseline, ridgeline, dist, theta;</div><div class="line">	<span class="keyword">double</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</div><div class="line">	<span class="built_in">sin</span> &gt;&gt; lotsize;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">sin</span> &gt;&gt; baseline &gt;&gt; ridgeline &gt;&gt; dist &gt;&gt; theta) {</div><div class="line">		a += (baseline + ridgeline) * dist/<span class="number">2.0</span>;</div><div class="line">		b += (baseline + ridgeline) * dist/<span class="number">2.0</span> * <span class="built_in">cos</span>(theta / <span class="number">180.0</span> * pi);	</div><div class="line">	}</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%9.2lf     %10.2lf     %8.2lf%%\n"</span>, a, b, b * <span class="number">100</span> /lotsize);</div><div class="line">	A += a, B += b, C += lotsize, N++;</div><div class="line">	<span class="keyword">return</span> v;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line"><span class="comment">//	freopen("in.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out.txt", "w+t", stdout);</span></div><div class="line">	</div><div class="line">	<span class="built_in">puts</span>(<span class="string">"Roof Area     Floor Area     % Covered"</span>);</div><div class="line">	<span class="built_in">puts</span>(<span class="string">"---------     ----------     ---------"</span>);</div><div class="line">	<span class="keyword">char</span> line[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">while</span>(<span class="keyword">true</span>) {</div><div class="line">		<span class="keyword">if</span>(getLot()) {</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Total surface area of roofs  %10.2lf\n"</span>, A);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Total area covered by roofs  %10.2lf\n"</span>, B);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Percentage of total area covered by roofs  %6.2lf%%\n"</span>, B*<span class="number">100</span>/C);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Average roof surface area per lot      %10.2lf\n"</span>, A/N);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Average floor space covered per lot    %10.2lf\n"</span>, B/N);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11855" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11855/" class="article-date">
  <time datetime="2014-06-24T13:09:53.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11855/">UVa 11855 - Buzzwords</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/" data-id="la3cheua5p23315r" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SA/">SA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/後綴數組/">後綴數組</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>The word the is the most common three-letter word. It even shows up inside other words, such as “other” and “mathematics”. Sometimes it hides, split between two words, such as “not here”. Have you ever wondered what the most common words of lengths other than three are?</p>
<p>Your task is the following. You will be given a text. In this text, find the most common word of length one. If there are multiple such words, any one will do. Then count how many times this most common word appears in the text. If it appears more than once, output how many times it appears. Then repeat the process with words of length 2, 3, and so on, until you reach such a length that there is no longer any repeated word of that length in the text.</p>
<h2 id="Input_Specification">Input Specification</h2>
<p>The input consists of a sequence of lines. The last line of input is empty and should not be processed. Each line of input other than the last contains at least one but no more than one thousand uppercase letters and spaces. The spaces are irrelevant and should be ignored.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">THE OTHER MATHEMATICS <span class="keyword">NOT</span> HERE</div><div class="line">AA</div></pre></td></tr></table></figure>

<p>Note that the last line of the sample input is a blank line.</p>
<h2 id="Output_Specification">Output Specification</h2>
<p>For each line of input, output a sequence of lines, giving the number of repetitions of words of length 1, 2, 3, and so on. When you reach a length such that there are no repeated words of that length, output one blank line, do not output anything further for that input line, and move on to the next line of input.</p>
<h2 id="Output_for_Sample_Input">Output for Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">4</div><div class="line">4</div><div class="line">2</div><div class="line">2</div><div class="line"></div><div class="line">2</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>依序將長度為 1, 2, 3, 4 … 其重複出現次數最高的字串次數輸出，只考慮重複次數大於 1 的所有情況。</p>
<p><strong> 題目解法： </strong></p>
<p>由於題目只查看大寫字母，忽略空白不計，若存在有空白的行時特別處理，否則在隨後的 trim() 會有輸出錯誤。</p>
<p>直接套上 Suffix Array，使用 Double algorithm 建造法，並且建出高度數組。</p>
<p>建造在 <code>O(n log n)</code>，但是輸出處理最慘會到 <code>O(n^2)</code>。</p>
<p>在其他的做法中，可以看到有人使用 hash function 進行比較 (將每一組單詞丟到同一個欄中，之後在進行比較)，這也是個挺不錯的做法，但是風險還是存在。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> SuffixArray {</div><div class="line">    <span class="keyword">int</span> sa[<span class="number">1005</span>], h[<span class="number">1005</span>], n;</div><div class="line">    <span class="keyword">int</span> w[<span class="number">1005</span>], ta[<span class="number">1005</span>], tb[<span class="number">1005</span>];</div><div class="line">    <span class="keyword">char</span> str[<span class="number">1005</span>];</div><div class="line">    <span class="keyword">void</span> sort(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y, <span class="keyword">int</span> m) {</div><div class="line">        <span class="keyword">static</span> <span class="keyword">int</span> i;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; m; i++)</div><div class="line">            w[i] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            w[x[y[i]]]++;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; m; i++)</div><div class="line">            w[i] += w[i-<span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span>(i = n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</div><div class="line">            sa[--w[x[y[i]]]] = y[i];</div><div class="line">    }</div><div class="line">    <span class="keyword">bool</span> cmp(<span class="keyword">int</span> *r, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> l) {</div><div class="line">        <span class="keyword">if</span>(r[a] == r[b]) {</div><div class="line">            <span class="keyword">if</span>(a+l &gt;= n || b+l &gt;= n)</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            <span class="keyword">return</span> r[a+l] == r[b+l];</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">void</span> build_h() {</div><div class="line">        <span class="keyword">int</span> i, j, k;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)  ta[sa[i]] = i;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) {</div><div class="line">            <span class="keyword">if</span>(ta[i] == <span class="number">0</span>) {</div><div class="line">                h[ta[i]] = <span class="number">0</span>;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            }</div><div class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || h[ta[i-<span class="number">1</span>]] &lt;= <span class="number">1</span>)</div><div class="line">                k = <span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                k = h[ta[i-<span class="number">1</span>]]-<span class="number">1</span>;</div><div class="line">            <span class="keyword">while</span>(str[sa[ta[i]-<span class="number">1</span>]+k] == str[sa[ta[i]]+k])</div><div class="line">                k++;</div><div class="line">            h[ta[i]] = k;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">void</span> build() {<span class="comment">// x: rank, y: second key</span></div><div class="line">        <span class="keyword">int</span> i, k, m = <span class="number">128</span>, p;</div><div class="line">        <span class="keyword">int</span> *x = ta, *y = tb, *z;</div><div class="line">        n = <span class="built_in">strlen</span>(str);</div><div class="line">        x[n] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            x[i] = str[i], y[i] = i;</div><div class="line">        sort(x, y, m);</div><div class="line">        <span class="keyword">for</span>(k = <span class="number">1</span>, p = <span class="number">1</span>; p &lt; n; k *= <span class="number">2</span>, m = p) {</div><div class="line">            <span class="keyword">for</span>(p = <span class="number">0</span>, i = n-k; i &lt; n; i++)</div><div class="line">                y[p++] = i;</div><div class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) {</div><div class="line">                <span class="keyword">if</span>(sa[i] &gt;= k) {</div><div class="line">                    y[p++] = sa[i]-k;</div><div class="line">                }</div><div class="line">            }</div><div class="line">            sort(x, y, m);</div><div class="line">            z = x, x = y, y = z;</div><div class="line">            <span class="keyword">for</span>(i = <span class="number">1</span>, p = <span class="number">1</span>, x[sa[<span class="number">0</span>]] = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">                x[sa[i]] = cmp(y, sa[i-<span class="number">1</span>], sa[i], k) ? p-<span class="number">1</span> : p++;</div><div class="line">        }</div><div class="line">    }</div><div class="line">};</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    SuffixArray in;</div><div class="line">    <span class="keyword">while</span>(gets(in.str) &amp;&amp; in.str[<span class="number">0</span>] != <span class="string">'\0'</span>) {</div><div class="line">    	<span class="keyword">int</span> n = <span class="number">0</span>;</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; in.str[i]; i++)</div><div class="line">    		<span class="keyword">if</span>(in.str[i] != <span class="string">' '</span>)</div><div class="line">    			in.str[n++] = in.str[i];</div><div class="line">    	in.str[n] = <span class="string">'\0'</span>;</div><div class="line">    	</div><div class="line">        in.build();</div><div class="line">        in.build_h();</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)</div><div class="line">        	<span class="built_in">puts</span>(<span class="string">"0"</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= in.n; i++) {</div><div class="line">        	<span class="keyword">int</span> cnt = <span class="number">0</span>, ret = <span class="number">0</span>;</div><div class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; in.n; j++) {</div><div class="line">        		<span class="keyword">if</span>(in.h[j] &gt;= i)</div><div class="line">        			cnt++;</div><div class="line">        		<span class="keyword">else</span></div><div class="line">        			ret = max(ret, cnt), cnt = <span class="number">0</span>;</div><div class="line">        	}</div><div class="line">        	ret = max(ret, cnt);</div><div class="line">        	<span class="keyword">if</span>(ret &lt;= <span class="number">0</span>)</div><div class="line">        		<span class="keyword">break</span>;</div><div class="line">        	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret + <span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-349" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-349/" class="article-date">
  <time datetime="2014-06-24T13:02:14.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-349/">UVa 349 - Transferable Voting (II)</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/" data-id="53r6snk8f5xried3" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模擬/">模擬</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>The Transferable Vote system for determining the winner of an election requires that a successful candidate obtain an absolute majority of the votes cast, even when there are more than two candidates. To achieve this goal, each voter completes his or her ballot by listing all the candidates in order of preference. Thus if there are five candidates for a single position, each voter’s ballot must contain five choices, from first choice to fifth choice.</p>
<p>In this problem you are to determine the winner, if any, of elections using the Transferable Vote system. If there are c candidates for the single position, then each voter’s ballot will include c distinct choices, corresponding to identifying the voter’s first place, second place, tex2html_wrap_inline32 , and nth place selections. Invalid ballots will be discarded, but their presence will be noted. A ballot is invalid if a voter’s choices are not distinct (choosing the same candidate as first and second choice isn’t permitted) or if any of the choices aren’t legal (that is, in the range 1 to c).</p>
<p>For each election candidates will be assigned sequential numbers starting with 1. The maximum number of voters in this problem will be 100, and the maximum number of candidates will be 5.</p>
<pre><code>                           <span class="keyword">Table</span> A                 <span class="keyword">Table</span> B
               -------------------------------    --------- 
               Voter    <span class="keyword">First</span>   Second  Third
                        Choice  Choice  Choice
                 <span class="number">1</span>        <span class="number">1</span>       <span class="number">2</span>       <span class="number">4</span>
                 <span class="number">2</span>        <span class="number">1</span>       <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span>
                 <span class="number">3</span>        <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>
                 <span class="number">4</span>        <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>
                 <span class="number">5</span>        <span class="number">1</span>       <span class="number">2</span>       <span class="number">3</span>       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>
                 <span class="number">6</span>        <span class="number">2</span>       <span class="number">3</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">1</span>
                 <span class="number">7</span>        <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>
                 <span class="number">8</span>        <span class="number">3</span>       <span class="number">1</span>       <span class="number">1</span>
                 <span class="number">9</span>        <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>
                <span class="number">10</span>        <span class="number">1</span>       <span class="number">2</span>       <span class="number">3</span>       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>
                <span class="number">11</span>        <span class="number">1</span>       <span class="number">3</span>       <span class="number">2</span>       <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span>
                <span class="number">12</span>        <span class="number">2</span>       <span class="number">3</span>       <span class="number">1</span>       <span class="number">3</span>   <span class="number">1</span>
</code></pre><p>Consider a very small election. In Table A are the votes from the 12 voters for the three candidates. Voters 1 and 8 cast invalid ballots; they will not be counted. This leaves 10 valid ballots, so a winning candidate will require at least 6 votes (the least integer value greater than half the number of valid ballots) to win. Candidates 1 and 3 each have 4 first choice votes, and candidate 2 has two. There is no majority, so the candidate with the fewest first choice votes, candidate 2, is eliminated. If there had been several candidates with the fewest first choice votes, any of them, selected at random, could be selected for elimination.</p>
<p>With candidate 2 eliminated, we advance the second and third choice candidates from those voters who voted for candidate 2 as their first choice. The result of this action is shown in Table B. Now candidate 3 has picked up 2 additional votes, giving a total of 6. This is sufficient for election. Note that if voter 12 had cast the ballot <code>2 1 3</code> then there would have been a tie between candidates 1 and 3.</p>
<h2 id="Input">Input</h2>
<p>There will be one or more elections to consider. Each will begin with a line containing the number of candidates and the number of voters, c and n. Data for the last election will be followed by a line containing two zeroes.</p>
<p>Following the first line for each election will be n additional lines each containing the choices from a single ballot. Each line will contain only c non-negative integers separated by whitespace.</p>
<h2 id="Output">Output</h2>
<p>For each election, print a line identifying the election number (they are numbered sequentially starting with 1). If there were any invalid ballots, print an additional line specifying the number of such. Finally, print a line indicating the winner of the election, if any, or indication of a tie; be certain to identify the candidates who are tied. Look at the samples below for the exact output format.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">3 12</div><div class="line">1 2 4</div><div class="line">1 3 2</div><div class="line">3 2 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">2 3 1</div><div class="line">3 2 1</div><div class="line">3 1 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">1 3 2</div><div class="line">2 3 1</div><div class="line">3 12</div><div class="line">1 2 4</div><div class="line">1 3 2</div><div class="line">3 2 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">2 3 1</div><div class="line">3 2 1</div><div class="line">3 1 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">1 3 2</div><div class="line">2 1 3</div><div class="line">4 15</div><div class="line">4 3 1 2</div><div class="line">4 1 2 3</div><div class="line">3 1 4 2</div><div class="line">1 3 2 4</div><div class="line">4 1 2 3</div><div class="line">3 4 2 1</div><div class="line">2 4 3 1</div><div class="line">3 2 1 4</div><div class="line">3 1 4 2</div><div class="line">1 4 2 3</div><div class="line">3 4 1 2</div><div class="line">3 2 1 4</div><div class="line">4 1 3 2</div><div class="line">3 2 1 4</div><div class="line">4 2 1 4</div><div class="line">0 0</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Election <span class="preprocessor">#1</span></div><div class="line">   <span class="number">2</span> bad ballot(s)</div><div class="line">   Candidate <span class="number">3</span> <span class="keyword">is</span> elected.</div><div class="line">Election <span class="preprocessor">#2</span></div><div class="line">   <span class="number">2</span> bad ballot(s)</div><div class="line">   The following candidates are tied: <span class="number">1</span> <span class="number">3</span></div><div class="line">Election <span class="preprocessor">#3</span></div><div class="line">   <span class="number">1</span> bad ballot(s)</div><div class="line">   Candidate <span class="number">3</span> <span class="keyword">is</span> elected.</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>投票時紀錄自願序，接著每一輪刷掉得票數量最小的候選人，直到所有候選人得票數皆相同或者只剩下一個候選人。若自願序中前位者遭到刷掉，則由下一個志願候選人替補。</p>
<p>如果發現志願序中有重複候選人、或者是不存在的候選人則將此票視為廢票。</p>
<p><strong> 題目解法： </strong></p>
<p>模擬！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> n, m, cases = <span class="number">0</span>, x;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) == <span class="number">2</span> &amp;&amp; n+m) {</div><div class="line">		<span class="keyword">int</span> bad[<span class="number">1024</span>] = {}, A[<span class="number">1024</span>][<span class="number">16</span>];</div><div class="line">		<span class="keyword">int</span> badCount = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</div><div class="line">			<span class="keyword">int</span> mark[<span class="number">16</span>] = {};</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				A[i][j] = x;</div><div class="line">				<span class="keyword">if</span>(x &gt; n || x &lt; <span class="number">1</span>) {</div><div class="line">					bad[i] = <span class="number">1</span>;</div><div class="line">					<span class="keyword">continue</span>;</div><div class="line">				}</div><div class="line">				mark[x]++;</div><div class="line">				<span class="keyword">if</span>(mark[x] &gt; <span class="number">1</span>)</div><div class="line">					bad[i] = <span class="number">1</span>;</div><div class="line">			}</div><div class="line">			badCount += bad[i];</div><div class="line">		}</div><div class="line">		</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Election #%d\n"</span>, ++cases);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"   %d bad ballot(s)\n"</span>, badCount);</div><div class="line">		</div><div class="line">		<span class="keyword">int</span> Atop[<span class="number">1024</span>] = {}, alive[<span class="number">1024</span>] = {}, aliveCount = n;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</div><div class="line">			<span class="keyword">int</span> votes[<span class="number">16</span>] = {}, mx = <span class="number">0</span>, del = -<span class="number">1</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) {</div><div class="line">				<span class="keyword">if</span>(bad[j])	<span class="keyword">continue</span>;</div><div class="line">				<span class="keyword">while</span>(alive[A[j][Atop[j]]])</div><div class="line">					Atop[j]++;</div><div class="line">				votes[A[j][Atop[j]]]++;</div><div class="line">			}</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</div><div class="line">				mx = max(mx, votes[j]);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) {</div><div class="line">				<span class="keyword">if</span>(votes[j] &lt; mx &amp;&amp; alive[j] == <span class="number">0</span>)</div><div class="line">					del = j, mx = votes[j];</div><div class="line">			}</div><div class="line">			<span class="keyword">if</span>(del == -<span class="number">1</span>)	<span class="keyword">break</span>;</div><div class="line">			alive[del] = <span class="number">1</span>, aliveCount--;</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(aliveCount == <span class="number">1</span>) {</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">				<span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"   Candidate %d is elected.\n"</span>, i);</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"   The following candidates are tied:"</span>);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">				<span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</div><div class="line">					<span class="built_in">printf</span>(<span class="string">" %d"</span>, i);</div><div class="line">			<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-302" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-302/" class="article-date">
  <time datetime="2014-06-24T12:50:43.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-302/">UVa 302 - John&#39;s trip</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-302/" data-id="c2zsrvuf39hgfmfw" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-302/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/尤拉環道/">尤拉環道</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>Little Johnny has got a new car. He decided to drive around the town to visit his friends. Johnny wanted to visit all his friends, but there was many of them. In each street he had one friend. He started thinking how to make his trip as short as possible. Very soon he realized that the best way to do it was to travel through each street of town only once. Naturally, he wanted to finish his trip at the same place he started, at his parents’ house.</p>
<p>The streets in Johnny’s town were named by integer numbers from 1 to n, n &lt; 1995. The junctions were independently named by integer numbers from 1 to m, tex2html_wrap_inline32 . All junctions in the town had different numbers. Each street was connecting exactly two (not necessarily different) junctions. No two streets in the town had the same number. He immediately started to plan his round trip. If there was more than one such round trip, he would have chosen the one which, when written down as a sequence of street numbers is lexicographically the smallest.</p>
<p>But Johnny was not able to find even one such round trip. Help Johnny and write a program which finds the desired shortest round trip. If the round trip does not exist the program should write a message. Assume that Johnny lives at the junction ending the 1st street input with smaller number. All streets in the town are two way. There exists a way from each street to another street in the town. The streets in the town are very narrow and there is no possibility to turn back the car once he is in the street.</p>
<h2 id="Input">Input</h2>
<p>Input file consists of several blocks. Each block describes one town. Each line in the block contains three integers x, y, z, where x &gt; 0 and y &gt; 0 are the numbers of junctions which are connected by the street number z. The end of the block is marked by the line containing x = y = 0. At the end of the input file there is an empty block, x = y = 0.</p>
<h2 id="Output">Output</h2>
<p>The output file consists of 2 line blocks corresponding to the blocks of the input file. The first line of each block contains the sequence of street numbers (single members of the sequence are separated by space) describing Johnny’s round trip. If the round trip cannot be found the corresponding output block contains the message ``Round trip does not exist.’’. The second line of each block is empty.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">1 2 1</div><div class="line">2 3 2</div><div class="line">3 1 6</div><div class="line">1 2 5</div><div class="line">2 3 3</div><div class="line">3 1 4</div><div class="line">0 0</div><div class="line">1 2 1</div><div class="line">2 3 2</div><div class="line">1 3 3</div><div class="line">2 4 4</div><div class="line">0 0</div><div class="line">0 0</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">4</span> <span class="number">6</span></div><div class="line"></div><div class="line"><span class="variable">Round</span> trip does <span class="keyword">not</span> exist.</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>每一條路上都有編號，並且每個編號唯一且個數小於 44。</p>
<p>求一條經過所有邊且不重複的環道。</p>
<p><strong> 題目解法： </strong></p>
<p>記得注意起始是第一條邊最小編號的點。</p>
<p>之後對於每一個點相鄰邊根據編號進行排序即可，按著窮舉思路由小開始枚舉即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;deque&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">struct</span> edge {</div><div class="line">	<span class="keyword">int</span> to, label;</div><div class="line">	edge(<span class="keyword">int</span> a=<span class="number">0</span>, <span class="keyword">int</span> b=<span class="number">0</span>):</div><div class="line">		to(a), label(b) {}</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> edge &amp;x) <span class="keyword">const</span> {</div><div class="line">		<span class="keyword">return</span> label &lt; x.label;</div><div class="line">	}</div><div class="line">};</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXN 2048</span></div><div class="line"><span class="stl_container"><span class="built_in">vector</span>&lt;edge&gt;</span> g[MAXN];</div><div class="line"><span class="keyword">int</span> label_used[MAXN];</div><div class="line"><span class="stl_container"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;</span>	path;</div><div class="line"><span class="keyword">void</span> dfs(<span class="keyword">int</span> u) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[u].size(); i++) {</div><div class="line">        <span class="keyword">if</span>(label_used[g[u][i].label] == <span class="number">0</span>) {</div><div class="line">        	label_used[g[u][i].label] = <span class="number">1</span>;</div><div class="line">            dfs(g[u][i].to);</div><div class="line">            path.push_front(g[u][i].label);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> x, y, z;</div><div class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>) {</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++)</div><div class="line">    		g[i].clear();</div><div class="line">    	<span class="keyword">int</span> e = <span class="number">0</span>, start = <span class="number">0</span>;</div><div class="line">    	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;x, &amp;y) == <span class="number">2</span>) {</div><div class="line">    		<span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)</div><div class="line">    			<span class="keyword">break</span>;</div><div class="line">    		<span class="comment">/* Johnny lives at the junction ending the 1st street </span></div><div class="line">				input with smaller number. */</div><div class="line">    		<span class="keyword">if</span>(e == <span class="number">0</span>)</div><div class="line">    			start = min(x, y);</div><div class="line">    		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;z);</div><div class="line">    		g[x].push_back(edge(y, z));</div><div class="line">    		g[y].push_back(edge(x, z));</div><div class="line">    		e++;</div><div class="line">    	}</div><div class="line">    	<span class="keyword">if</span>(e == <span class="number">0</span>)	<span class="keyword">break</span>;</div><div class="line">    	</div><div class="line">    	<span class="keyword">int</span> odd = <span class="number">1</span>;</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++) {</div><div class="line">    		odd &amp;= g[i].size()%<span class="number">2</span> == <span class="number">0</span>;</div><div class="line">    	}</div><div class="line">    	<span class="keyword">if</span>(!odd) {</div><div class="line">    		<span class="built_in">puts</span>(<span class="string">"Round trip does not exist.\n"</span>);</div><div class="line">    		<span class="keyword">continue</span>;</div><div class="line">    	}</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++)</div><div class="line">    		sort(g[i].begin(), g[i].end());</div><div class="line">    	<span class="built_in">memset</span>(label_used, <span class="number">0</span>, <span class="keyword">sizeof</span>(label_used));</div><div class="line">    	path.clear();</div><div class="line">    	dfs(start);</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; path.size(); i++) </div><div class="line">    		<span class="built_in">printf</span>(<span class="string">"%d%c"</span>, path[i], i == path.size()-<span class="number">1</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</div><div class="line">    	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11837" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11837/" class="article-date">
  <time datetime="2014-06-24T11:15:39.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11837/">UVa 11837 - Musical Plagiarism</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11837/" data-id="1jg4y79er6btudxc" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11837/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KMP/">KMP</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>The musical notes are the basic units of Western music. Each note is associated with a frequency. Two notes for which the fundamental frequencies have a ratio of power of 2 (one is half of the other, one is double of the other, etc..) are perceived as very similar. Therefore, any notes with that kind of relationship are given the same name, as described below.</p>
<p>There are twelve basic notes in a sequence of increasing frequency, each note separated from the previous note by the same distance in the musical scale (this distance is called a semitone). Seven of these twelve notes are represented by letters of the alphabet (A, B, C, D, E, F and G). The table below shows the distance, in semitones, between the notes.</p>
<p>Notes     A-B     B-C     C-D     D-E     E-F     F-G     G-A<br>Number of semitone     2     1     2     2     1     2     2     </p>
<p>Notice that there are five notes that are not represented by letters of the alphabet: the notes between A and B, between C and D, between D and E, betwen F and G and between G and A.</p>
<p>Notes can be modified by two accidentals, called sharp and flat, represented respectively by the symbols <code>#&#39; and</code>b’. A sharp raises the note a semitone, a flat lowers the note a semitone. A note with an accidental is denoted by the name of the note followed by the accidental symbol. Notice that with this scheme we can represent all twelve notes.</p>
<p>The figure below illustrates the name of the notes in accordance with the scheme described above, in a fragment of a piano keyboard.</p>
<p>A melody can be represented by a sequence of notes. For example,</p>
<p>A A D C# C# D E E E F# A D G# A</p>
<p>is a well known melody. Note however that as the distances between the semitones are always equal, the same melody can be written starting with another note (we say that the melody is in another key):</p>
<p>B B E D# D# E Gb Gb Gb G# B E A# B</p>
<p>Your neighbor is a famous composer who suspects someone has plagiarized one of her songs. She asked your help to write a program that, given the sequence of notes of the melody in her song, and the sequence of notes of a suspicious snippet of melody, determines if the suspicious snippet occurs, in some key, in her song.</p>
<h2 id="Input">Input</h2>
<p>The input consists of several test cases. The first line of a test case contains two integers M and T ( 1$ \le$M$ \le$105, 1$ \le$T$ \le$104, T$ \le$M), indicating the number of notes in the song suspected of having been plagiarized and in the suspect snippet. Each of the next two lines contains M and T notes, respectively, indicating the notes of the song and of the suspect snippet.</p>
<p>Notes in each line are separated by one space; each note is one among <code>A&#39;,</code>B’, <code>C&#39;,</code>D’, <code>E&#39;,</code>F’ or <code>G&#39;, possibly followed by an accidental sign:</code>#’ for sharp or `b’ for flat.</p>
<p>The last test case is followed by a line containing only two zeros separated by a blank space.</p>
<h2 id="Output">Output</h2>
<p>For each test case your program must print a single line containing one character, <code>S&#39; in case the song has been plagiarized by the text, or</code>N’ in case the song has not been plagiarized by the text.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="number">16</span> <span class="number">4</span></div><div class="line"><span class="keyword">D</span> G A B <span class="keyword">C</span> <span class="keyword">D</span> G G G <span class="keyword">C</span> <span class="keyword">D</span> <span class="keyword">E</span> F# G <span class="keyword">C</span> <span class="keyword">C</span></div><div class="line">G G <span class="keyword">C</span> <span class="keyword">D</span></div><div class="line"><span class="number">12</span> <span class="number">2</span></div><div class="line"><span class="keyword">C</span> <span class="keyword">C</span># <span class="keyword">D</span> <span class="keyword">D</span># <span class="keyword">E</span> F F# G G# A A# B</div><div class="line"><span class="keyword">C</span> <span class="keyword">D</span></div><div class="line"><span class="number">12</span> <span class="number">2</span></div><div class="line"><span class="keyword">C</span> Db <span class="keyword">D</span> Eb <span class="keyword">E</span> F Gb G Ab A Bb B</div><div class="line"><span class="keyword">C</span> <span class="keyword">D</span></div><div class="line"><span class="number">4</span> <span class="number">3</span></div><div class="line"><span class="keyword">C</span> <span class="keyword">E</span> G Bb</div><div class="line"><span class="keyword">D</span> F# A</div><div class="line"><span class="number">0</span> <span class="number">0</span></div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">S</div><div class="line"><span class="keyword">N</span></div><div class="line"><span class="keyword">N</span></div><div class="line">S</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<blockquote>
<p>音階 全全半全全全半，全音中間夾一個黑/白鍵，半音之間沒有。</p>
</blockquote>
<p>計算是否為旋律中的一部分，計算旋律時只需考慮音符之間的距離即可，與高低幾度偏移沒有關係。</p>
<p><strong> 題目解法： </strong></p>
<p>特別小心，查詢的旋律長度為 1 的時候，無法判斷 (雖然以子字串是有在的)。</p>
<p>接著，直接對距離之間取模之後得到兩個整數序列，直接套用 KMP 判斷序列是否在另一個序列中。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> notes[<span class="number">128</span>] = {};</div><div class="line"><span class="keyword">int</span> kmpTable[<span class="number">500005</span>];</div><div class="line"><span class="keyword">void</span> KMPtable(<span class="keyword">int</span> *P, <span class="keyword">int</span> len) {</div><div class="line">    <span class="keyword">int</span> i, j;</div><div class="line">    kmpTable[<span class="number">0</span>] = -<span class="number">1</span>, i = <span class="number">1</span>, j = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(i &lt; len) {</div><div class="line">        <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; P[j+<span class="number">1</span>] != P[i])</div><div class="line">            j = kmpTable[j];</div><div class="line">        <span class="keyword">if</span>(P[j+<span class="number">1</span>] == P[i])</div><div class="line">            j++;</div><div class="line">        kmpTable[i++] = j;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">int</span> KMPmatching(<span class="keyword">int</span> T[], <span class="keyword">int</span> P[], <span class="keyword">int</span> tlen, <span class="keyword">int</span> plen) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, j = -<span class="number">1</span>; i &lt; tlen; i++) {</div><div class="line">        <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; P[j+<span class="number">1</span>] != T[i])</div><div class="line">            j = kmpTable[j];</div><div class="line">        <span class="keyword">if</span>(P[j+<span class="number">1</span>] == T[i])  j++;</div><div class="line">        <span class="keyword">if</span>(j == plen-<span class="number">1</span>) {</div><div class="line">            j = kmpTable[j];</div><div class="line">            <span class="keyword">return</span> i;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> M, T;</div><div class="line">	<span class="keyword">int</span> A[<span class="number">100005</span>], B[<span class="number">10005</span>];</div><div class="line">	<span class="keyword">char</span> s[<span class="number">10</span>];</div><div class="line">	notes[<span class="string">'C'</span>] = <span class="number">0</span>, notes[<span class="string">'D'</span>] = <span class="number">2</span>;</div><div class="line">	notes[<span class="string">'E'</span>] = <span class="number">4</span>,	notes[<span class="string">'F'</span>] = <span class="number">5</span>;</div><div class="line">	notes[<span class="string">'G'</span>] = <span class="number">7</span>,	notes[<span class="string">'A'</span>] = <span class="number">9</span>;</div><div class="line">	notes[<span class="string">'B'</span>] = <span class="number">11</span>;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;M, &amp;T) == <span class="number">2</span> &amp;&amp; M + T) {</div><div class="line">		<span class="keyword">int</span> prev, x;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, &amp;s);</div><div class="line">			x = (notes[s[<span class="number">0</span>]] + (s[<span class="number">1</span>] == <span class="string">'#'</span>) - (s[<span class="number">1</span>] == <span class="string">'b'</span>) + <span class="number">12</span>)%<span class="number">12</span>;</div><div class="line">			<span class="keyword">if</span>(i)	A[i - <span class="number">1</span>] = (prev - x + <span class="number">12</span>)%<span class="number">12</span>;</div><div class="line">			prev = x;</div><div class="line">		}</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T; i++) {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, &amp;s);</div><div class="line">			x = (notes[s[<span class="number">0</span>]] + (s[<span class="number">1</span>] == <span class="string">'#'</span>) - (s[<span class="number">1</span>] == <span class="string">'b'</span>) + <span class="number">12</span>)%<span class="number">12</span>;</div><div class="line">			<span class="keyword">if</span>(i)	B[i - <span class="number">1</span>] = (prev - x + <span class="number">12</span>)%<span class="number">12</span>;</div><div class="line">			prev = x;</div><div class="line">		}</div><div class="line">		KMPtable(A, M - <span class="number">1</span>);</div><div class="line">		<span class="built_in">puts</span>( KMPmatching(A, B, M - <span class="number">1</span>, T - <span class="number">1</span>) &gt;= <span class="number">0</span> ? <span class="string">"S"</span> : <span class="string">"N"</span>);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-198" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-198/" class="article-date">
  <time datetime="2014-06-24T10:55:25.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-198/">UVa 198 - Peter&#39;s Calculator</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-198/" data-id="kxdsrsamq8hu3z2q" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-198/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五則運算/">五則運算</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>Unfortunately, Peter’s Calculator broke down last week. Now Peter is left with his computer, which has no calculator application, and paper and pencil, which is too tiresome for an engineer. As one of Peter’s friends, you are asked to write him a calculator application. After talking to him, you figure out the following:</p>
<ul>
<li>Peter does only integer arithmetic. The operations he needs are addition, subtraction and multiplication.</li>
<li>He would like to use an arbitrary number of variables whose names are not longer than 50 characters.</li>
<li>His main way of doing calculations are to type in a few formulas and to assign them to variables. Some formulas are complicated expressions, which can refer to yet undefined variables, while other formulas consist of a single number. Then Peter asks for the value of some variables, i.e. he evaluates the formulas.</li>
<li>Peters wants to redefine some variables and then to reevaluate formulas that depend on these variables.  </li>
</ul>
<p>The input strictly adheres to the following syntax (given in EBNF):</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">file = line <span class="tuple">{ line }</span> &lt;<span class="variable">EOF</span>&gt;.</div><div class="line">line = [ assignment | print | reset ] &lt;<span class="variable">CR</span>&gt;.</div><div class="line">assignment = var <span class="string">":="</span> expression.</div><div class="line">print = <span class="string">"PRINT"</span> var.</div><div class="line">reset = <span class="string">"RESET"</span>.</div><div class="line">expression = term <span class="tuple">{ addop term }</span>.</div><div class="line">term = factor <span class="tuple">{ mulop factor }</span>.</div><div class="line">factor = <span class="string">"("</span> expression <span class="string">")"</span> | var | number.</div><div class="line">addop = <span class="string">"+"</span> | <span class="string">"-"</span>.</div><div class="line">mulop = <span class="string">"*"</span>.</div></pre></td></tr></table></figure>

<p>In the Extended Backus-Naur Formalism (EBNF), A = B C declares that the grammatical construct A consists of a B followed by a C . A = B | C means that A consists of a B or, alternatively, of a C . A = [ B ] defines construct A to be either a B or nothing and A = B tells you that A consists of the concatenation of any number of B’s (including none).</p>
<p>The production var stands for the name of a variable, which starts with a letter followed by up to 49 letters or digits. Letters may be uppercase or lowercase. The production number stands for a integer number. The precise syntax for these productions are given below. The case of letters is important for both variables and statements.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var = letter { letter | digit }.</div><div class="line">number = [ <span class="string">"-"</span> ] digit { digit }.</div><div class="line">letter = <span class="string">"A"</span> | <span class="string">"B"</span> | <span class="keyword">...</span> | <span class="string">"Z"</span> | <span class="string">"a"</span> | <span class="string">"b"</span> | <span class="keyword">...</span> | <span class="string">"z"</span>.</div><div class="line">digit = <span class="string">"0"</span> | <span class="string">"1"</span> | <span class="keyword">...</span> | <span class="string">"8"</span> | <span class="string">"9"</span>.</div></pre></td></tr></table></figure>

<p>Between the parts of a grammatical construct but not within the names of variables or integer numbers, any number of spaces may appear. <eof> stands for the end of the input file and <cr> stands for the new-line character. All lines in the input file are shorter than 200 characters.</cr></eof></p>
<p>The value of a variable is said to be undefined:</p>
<ul>
<li>if it has not yet been defined or it refers to a variable, which has not yet been defined;</li>
<li>if the definition of the variable contains a cycle. </li>
</ul>
<p>Your are to write a program that implements Peter’s calculator. It should store all variable definitions and for each “PRINT” statement evaluate the specified variable based on the latest variable definitions. If your program encounters a “RESET” statement, it should delete all stored variables so that all variables become undefined.</p>
<h2 id="Input">Input</h2>
<p>The input file contains calculations adhering to the syntax given above. Each line contains either an assignment to a variable, a “PRINT” statement, a “RESET” statement or nothing.</p>
<h2 id="Output">Output</h2>
<p>For each “PRINT” statement found in the input file, your program should output a line containing the numerical value of the specified variable or the word “UNDEF” if the variable is undefined.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">a := b + c</div><div class="line">b := <span class="number">3</span></div><div class="line">c := <span class="number">5</span></div><div class="line"><span class="keyword">PRINT</span> d</div><div class="line"><span class="keyword">PRINT</span> a</div><div class="line">b := <span class="number">8</span></div><div class="line"><span class="keyword">PRINT</span> a</div><div class="line">RESET</div><div class="line"><span class="keyword">PRINT</span> a</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="title">UNDEF</span></div><div class="line"><span class="number">8</span></div><div class="line"><span class="number">13</span></div><div class="line">UNDEF</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>輸入有一連串的變數函數，適時地打印出詢問的變數值，如果存在循環依靠 (無法推論) 或者是變數尚未定義，直接輸出 UNDEF。</p>
<p>後輸入的變數函數會覆蓋原先的函數。</p>
<p><strong> 題目解法： </strong></p>
<p>將每一組函數轉成後序運算式子，爾後再使用深度優先搜索走訪查看是否有環。</p>
<p>著重的問題在於負數的分析，例如 <code>0 - -50</code>, <code>(a + b) - 50</code> 等等。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stack&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;ctype.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;sstream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> priority_op(<span class="keyword">char</span> c) {</div><div class="line">    <span class="keyword">switch</span>(c) {</div><div class="line">        <span class="keyword">case</span> <span class="string">'('</span>:<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'+'</span>: <span class="keyword">case</span> <span class="string">'-'</span>:<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'*'</span>: <span class="keyword">case</span> <span class="string">'/'</span>:<span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> isoperator(<span class="keyword">char</span> c) {</div><div class="line">    <span class="keyword">switch</span>(c) {</div><div class="line">        <span class="keyword">case</span> <span class="string">'('</span>:<span class="keyword">case</span> <span class="string">')'</span>:<span class="keyword">case</span> <span class="string">'+'</span>: <span class="keyword">case</span> <span class="string">'-'</span>:<span class="keyword">case</span> <span class="string">'*'</span>: <span class="keyword">case</span> <span class="string">'/'</span>:<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> isvariable(<span class="built_in">string</span> token) {</div><div class="line">	<span class="keyword">return</span> <span class="built_in">isalpha</span>(token[<span class="number">0</span>]);</div><div class="line">}</div><div class="line"><span class="keyword">void</span> trans(<span class="keyword">const</span> <span class="keyword">char</span> *infix, <span class="keyword">char</span> buffer[]) {</div><div class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(infix), prevOp = <span class="number">1</span>;</div><div class="line">    <span class="keyword">char</span> *ptr = buffer;</div><div class="line">    <span class="stl_container"><span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt;</span> op;</div><div class="line">    *ptr = <span class="string">'\0'</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">isalpha</span>(infix[i]) || <span class="built_in">isdigit</span>(infix[i]) </div><div class="line">			|| (infix[i] == <span class="string">'-'</span> &amp;&amp; <span class="built_in">isdigit</span>(infix[i+<span class="number">1</span>]) &amp;&amp; prevOp)) {</div><div class="line">			prevOp = <span class="number">0</span>;</div><div class="line">        	<span class="built_in">sprintf</span>(ptr, <span class="string">"%c"</span>, infix[i]), i++;</div><div class="line">        	<span class="keyword">while</span>(*ptr)    ptr++;</div><div class="line">			<span class="keyword">while</span>(<span class="built_in">isalpha</span>(infix[i]) || <span class="built_in">isdigit</span>(infix[i])) {</div><div class="line">            	<span class="built_in">sprintf</span>(ptr, <span class="string">"%c"</span>, infix[i]), i++;</div><div class="line">            	<span class="keyword">while</span>(*ptr)    ptr++;</div><div class="line">            }</div><div class="line">            <span class="built_in">sprintf</span>(ptr, <span class="string">" "</span>), i--;</div><div class="line">            <span class="keyword">while</span>(*ptr)		ptr++;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">        	prevOp = <span class="number">0</span>;</div><div class="line">            <span class="keyword">if</span>(infix[i] == <span class="string">')'</span>) {</div><div class="line">                <span class="keyword">while</span>(!op.empty() &amp;&amp; op.top() != <span class="string">'('</span>) {</div><div class="line">                    <span class="built_in">sprintf</span>(ptr, <span class="string">"%c "</span>, op.top()), op.pop();</div><div class="line">                    <span class="keyword">while</span>(*ptr) ptr++;</div><div class="line">                }</div><div class="line">                op.pop();</div><div class="line">            } <span class="keyword">else</span> {</div><div class="line">                <span class="keyword">if</span>(infix[i] != <span class="string">'('</span>) {</div><div class="line">	                <span class="keyword">while</span>(!op.empty() &amp;&amp; priority_op(op.top()) &gt;= priority_op(infix[i])) {</div><div class="line">	                    <span class="built_in">sprintf</span>(ptr, <span class="string">"%c "</span>, op.top()), op.pop();</div><div class="line">	                    <span class="keyword">while</span>(*ptr) ptr++;</div><div class="line">	                }</div><div class="line">            	}</div><div class="line">	        	prevOp = <span class="number">1</span>;</div><div class="line">                op.push(infix[i]);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">while</span>(!op.empty()) {</div><div class="line">        <span class="built_in">sprintf</span>(ptr, <span class="string">"%c "</span>, op.top()), op.pop();</div><div class="line">        <span class="keyword">while</span>(*ptr) ptr++;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">void</span> trimWhiteSpace(<span class="keyword">char</span> s[]) {</div><div class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i]; i++)</div><div class="line">		<span class="keyword">if</span>(!<span class="built_in">isspace</span>(s[i]))</div><div class="line">			s[j++] = s[i];</div><div class="line">	s[j] = <span class="string">'\0'</span>;</div><div class="line">}</div><div class="line"><span class="stl_container"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;</span> VAL_exp;</div><div class="line"><span class="stl_container"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;</span>	VAL_val;</div><div class="line"><span class="stl_container"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;</span>	VAL_stk;</div><div class="line"><span class="keyword">int</span> error_FLAG;</div><div class="line"><span class="keyword">int</span> calcPostfix(<span class="keyword">const</span> <span class="keyword">char</span>* postfix);</div><div class="line"><span class="keyword">int</span> getValue(<span class="built_in">string</span> VAL_name) {</div><div class="line">    <span class="keyword">if</span>(!isvariable(VAL_name)) {</div><div class="line">    	<span class="built_in">stringstream</span> scin(VAL_name);</div><div class="line">    	<span class="keyword">int</span> value;</div><div class="line">    	scin &gt;&gt; value;</div><div class="line">    	<span class="keyword">return</span> value;</div><div class="line">    }</div><div class="line">	<span class="keyword">if</span>(VAL_exp.find(VAL_name) == VAL_exp.end() || VAL_stk[VAL_name]) {</div><div class="line">		error_FLAG = <span class="number">1</span>;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	}</div><div class="line">	<span class="keyword">if</span>(VAL_val.find(VAL_name) == VAL_val.end()) {</div><div class="line">		VAL_stk[VAL_name] = <span class="number">1</span>;</div><div class="line"><span class="comment">//		cout &lt;&lt; "solving " &lt;&lt; VAL_name &lt;&lt; ", " &lt;&lt; VAL_exp[VAL_name] &lt;&lt; endl; </span></div><div class="line">		VAL_val[VAL_name] = calcPostfix(VAL_exp[VAL_name].c_str());</div><div class="line"><span class="comment">//		cout &lt;&lt; "solved " &lt;&lt; VAL_name &lt;&lt; ", val = " &lt;&lt; VAL_val[VAL_name] &lt;&lt; endl;</span></div><div class="line">		VAL_stk[VAL_name] = <span class="number">0</span>;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> VAL_val[VAL_name];</div><div class="line">}</div><div class="line"><span class="keyword">int</span> calcPostfix(<span class="keyword">const</span> <span class="keyword">char</span>* postfix) {</div><div class="line">	<span class="built_in">stringstream</span> 	scin(postfix);</div><div class="line">    <span class="stl_container"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;</span> 		stk;</div><div class="line">	<span class="built_in">string</span>			token;</div><div class="line">    <span class="keyword">int</span> 			a, b;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(scin &gt;&gt; token) {</div><div class="line">    	<span class="keyword">if</span>(token.length() == <span class="number">1</span> &amp;&amp; isoperator(token[<span class="number">0</span>])) {</div><div class="line">            b = stk.top(), stk.pop();</div><div class="line">            a = stk.top(), stk.pop();</div><div class="line">            <span class="keyword">switch</span>(token[<span class="number">0</span>]) {</div><div class="line">                <span class="keyword">case</span> <span class="string">'+'</span>: a = a+b;<span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">'-'</span>: a = a-b;<span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">'*'</span>: a = a*b;<span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">'/'</span>: a = a/b;<span class="keyword">break</span>;</div><div class="line">            }</div><div class="line">            stk.push(a);</div><div class="line">    	} <span class="keyword">else</span> {</div><div class="line">    		stk.push(getValue(token));</div><div class="line">    	}</div><div class="line">    	<span class="keyword">if</span>(error_FLAG)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> stk.top();</div><div class="line">}</div><div class="line"><span class="keyword">void</span> printVal(<span class="built_in">string</span> valName) {</div><div class="line">	error_FLAG = <span class="number">0</span>;</div><div class="line">	VAL_val.clear();</div><div class="line">	VAL_stk.clear();</div><div class="line">	<span class="keyword">int</span> val = getValue(valName);</div><div class="line">	<span class="keyword">if</span>(error_FLAG)</div><div class="line">		<span class="built_in">puts</span>(<span class="string">"UNDEF"</span>);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, val);</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line"><span class="comment">//	freopen("input.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out.txt", "w+t", stdout); </span></div><div class="line">	<span class="built_in">string</span> 	LHS, RHS;</div><div class="line">	<span class="keyword">int</span> 	pos;</div><div class="line">	<span class="keyword">char</span> 	postfix[<span class="number">32767</span>], lines[<span class="number">32767</span>];</div><div class="line">	</div><div class="line">    <span class="keyword">while</span>(gets(lines)) {</div><div class="line">    	trimWhiteSpace(lines);</div><div class="line">    	<span class="built_in">string</span> str(lines);</div><div class="line">    	<span class="keyword">if</span>(str.find(<span class="string">":="</span>) != string::npos) {</div><div class="line">    		pos = str.find(<span class="string">":="</span>);</div><div class="line">    		LHS = str.substr(<span class="number">0</span>, pos);</div><div class="line">    		RHS = str.substr(pos + <span class="number">2</span>);</div><div class="line">    		trans(RHS.c_str(), postfix);</div><div class="line">    		VAL_exp[LHS] = postfix;</div><div class="line">    	} <span class="keyword">else</span> <span class="keyword">if</span>(str.find(<span class="string">"PRINT"</span>) != string::npos) {</div><div class="line">    		pos = str.find(<span class="string">"PRINT"</span>);</div><div class="line">    		RHS = str.substr(pos + <span class="number">5</span>);</div><div class="line">    		printVal(RHS);</div><div class="line">    	} <span class="keyword">else</span> <span class="keyword">if</span>(str.find(<span class="string">"RESET"</span>) != string::npos) {</div><div class="line">    		VAL_exp.clear();</div><div class="line">    	}</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11178" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11178/" class="article-date">
  <time datetime="2014-06-24T09:56:23.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11178/">UVa 11178 - Morley&#39;s Theorem</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11178/" data-id="n30s03cbni8258x3" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11178/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>Morley’s theorem states that that the lines trisecting the angles of an arbitrary plane triangle meet at the vertices of an equilateral triangle. For example in the figure below the tri-sectors of angles A, B and C has intersected and created an equilateral triangle DEF. </p>
<p>Of course the theorem has various generalizations, in particular if all of the tri-sectors are intersected one obtains four other equilateral triangles. But in the original theorem only tri-sectors nearest to BC are allowed to intersect to get point D, tri-sectors nearest to CA are allowed to intersect point E and tri-sectors nearest to AB are intersected to get point F. Trisector like BD and CE are not allowed to intersect. So ultimately we get only one equilateral triangle DEF. Now your task is to find the Cartesian coordinates of D, E and F given the coordinates of A, B, and C.</p>
<h2 id="Input">Input</h2>
<p>First line of the input file contains an integer N (0&lt;N&lt;5001) which denotes the number of test cases to follow. Each of the next lines contain six integers . This six integers actually indicates that the Cartesian coordinates of point A, B and C are  respectively. You can assume that the area of triangle ABC is not equal to zero,  and the points A, B and C are in counter clockwise order.</p>
<h2 id="Output">Output</h2>
<p>For each line of input you should produce one line of output. This line contains six floating point numbers  separated by a single space. These six floating-point actually means that the Cartesian coordinates of D, E and F are  respectively. Errors less than   will be accepted.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">1 1 2 2 1 2</div><div class="line">0 0 100 0 50 50</div></pre></td></tr></table></figure>

<h2 id="Output_for_Sample_Input">Output for Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1.316987 1.816987 1.183013 1.683013 1.366025 1.633975</div><div class="line">56.698730 25.000000 43.301270 25.000000 50.000000 13.397460</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>給一個三角形，將每一個角三等分後，交三角形內部三個點，求這三個點座標。</p>
<p><strong> 題目解法： </strong></p>
<p>向量旋轉、射線交點。</p>
<p>射線交點的部分採用最簡單的克拉瑪方程求解。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> eps 1e-6</span></div><div class="line"><span class="keyword">struct</span> Pt {</div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Pt(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>):</div><div class="line">    	x(a), y(b) {}</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> {</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(x-a.x) &gt; eps)</div><div class="line">            <span class="keyword">return</span> x &lt; a.x;</div><div class="line">        <span class="keyword">return</span> y &lt; a.y;</div><div class="line">    }</div><div class="line">	Pt <span class="keyword">operator</span>-(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> {</div><div class="line">		Pt ret;</div><div class="line">		ret.x = x - a.x;</div><div class="line">		ret.y = y - a.y;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    }</div><div class="line">};</div><div class="line"><span class="keyword">double</span> dist(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> hypot(a.x - b.x, a.y - b.y);</div><div class="line">}</div><div class="line"><span class="keyword">double</span> length(Pt a) {</div><div class="line">	<span class="keyword">return</span> hypot(a.x, a.y);</div><div class="line">}</div><div class="line"><span class="keyword">double</span> dot(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> a.x * b.x + a.y * b.y;</div><div class="line">}</div><div class="line"><span class="keyword">double</span> cross2(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> a.x * b.y - a.y * b.x;</div><div class="line">}</div><div class="line"><span class="keyword">double</span> cross(Pt o, Pt a, Pt b) {</div><div class="line">    <span class="keyword">return</span> (a.x-o.x)*(b.y-o.y) - (a.y-o.y)*(b.x-o.x);</div><div class="line">}</div><div class="line"><span class="keyword">double</span> angle(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> <span class="built_in">acos</span>(dot(a, b) / length(a) / length(b));</div><div class="line">}</div><div class="line">Pt rotateRadian(Pt a, <span class="keyword">double</span> radian) {</div><div class="line">	<span class="keyword">double</span> x, y;</div><div class="line">	x = a.x * <span class="built_in">cos</span>(radian) - a.y * <span class="built_in">sin</span>(radian);</div><div class="line">	y = a.x * <span class="built_in">sin</span>(radian) + a.y * <span class="built_in">cos</span>(radian);</div><div class="line">	<span class="keyword">return</span> Pt(x, y);</div><div class="line">}</div><div class="line">Pt getIntersection(Pt p, Pt l1, Pt q, Pt l2) {</div><div class="line">	<span class="keyword">double</span> a1, a2, b1, b2, c1, c2;</div><div class="line">	<span class="keyword">double</span> dx, dy, d;</div><div class="line">	a1 = l1.y, b1 = -l1.x, c1 = a1 * p.x + b1 * p.y;</div><div class="line">	a2 = l2.y, b2 = -l2.x, c2 = a2 * q.x + b2 * q.y;</div><div class="line">	d = a1 * b2 - a2 * b1;</div><div class="line">	dx = b2 * c1 - b1 * c2;</div><div class="line">	dy = a1 * c2 - a2 * c1;</div><div class="line">	<span class="keyword">return</span> Pt(dx / d, dy / d);</div><div class="line">}</div><div class="line">Pt solve(Pt A, Pt B, Pt C) {</div><div class="line">	<span class="keyword">double</span> radABC = angle(A - B, C - B);</div><div class="line">	<span class="keyword">double</span> radACB = angle(A - C, B - C);</div><div class="line">	</div><div class="line">	Pt vB = rotateRadian(C - B, radABC /<span class="number">3</span>);</div><div class="line">	Pt vC = rotateRadian(B - C, - radACB /<span class="number">3</span>);</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> getIntersection(B, vB, C, vC);</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> testcase;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">	<span class="keyword">while</span>(testcase--) {</div><div class="line">		Pt A, B, C, D, E, F;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;A.x, &amp;A.y);</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;B.x, &amp;B.y);</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;C.x, &amp;C.y);</div><div class="line">		D = solve(A, B, C);</div><div class="line">		E = solve(B, C, A);</div><div class="line">		F = solve(C, A, B);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lf %lf %lf %lf %lf %lf\n"</span>, D.x, D.y, E.x, E.y, F.x, F.y);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>


          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-427" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-427/" class="article-date">
  <time datetime="2014-06-24T09:33:19.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-427/">UVa 427 - FlatLand Piano Movers</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-427/" data-id="psrfl7ipqauti5m2" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-427/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/三分/">三分</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>FlatLand Piano Movers, as part of their Total Quality Management project, has decided to focus on the job estimation process. Part of this process involves walking the proposed paths that are to be used to move a piano to see if it will fit through corridors and around corners. Now this is harder than it might seem, since FlatLand is a 2-dimensional world.</p>
<p>FlatLand pianos are rectangles of various sizes. FlatLand building codes require all turns in corridors to be right angle turns and prohibit <code>T</code> intersections. All dimensions are in furlongs. You can assume that each portion of a corridor is long enough so that other corners or doors into rooms don’t have any effect on getting around a turn. You can also assume that the piano is narrower than the width of any corridor. Note that the piano actually has to turn in the corner, since it can only be pushed or pulled on one of its shorter sides (there are no square pianos).</p>
<p>Your team’s job is to write a program for a palmtop computer that will determine if a given piano will fit around a corner in a corridor.</p>
<h2 id="Input">Input</h2>
<p>The input consists of a series of lines up to 80 columns in width followed by the end-of-file. Each line consists of a series of number pairs. The numbers of a pair are separated by a comma and the pairs are separated by at least one space. The first pair is the size of a piano, and the remaining pairs are the widths of corridors on each side of the turns. Consider the example:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">600,200 300,500 837,500 350,350</div></pre></td></tr></table></figure>

<p>This is a 600 by 200 piano. The first turn is from a 300 furlong wide corridor through a right angle turn into a 500 furlong wide corridor. The next turn is from an 837 furlong wide corridor into one 500 furlongs wide. The last turn is from a 350 furlong wide corridor into another 350 furlong wide corridor.</p>
<h2 id="Output">Output</h2>
<p>For each piano, your program is to produce a yes-or-no answer for each turn. If the piano will fit around the turn, print <code>Y&#39;&#39;; if not, print</code>N’’. The results for each piano should be printed on a separate line.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">600,200   300,500   837,500  350,350 </div><div class="line">137,1200 600,500 600,400</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="title">YYN</span></div><div class="line">YN</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>一台鋼琴長寬 W, H，接著要經過一個 T 字路口，進去之後向右轉，一開始進去的寬度為 X，右轉之後的寬度為 Y，問能不能順利轉彎。</p>
<p>每組輸入給定一台鋼琴長寬，接著給定多組路口寬組合。</p>
<p><strong> 題目解法： </strong></p>
<blockquote>

<p><img class="lazy" data-original="/img/2011082521262354.jpg" alt="三分"></p>
<p>汽车拐弯问题，给定 X, Y, l, d 判断是否能够拐弯。首先当 X 或者 Y 小于 d，那么一定不能。<br>其次我们发现随着角度 θ 的增大，最大高度 h 先增长后减小，即为凸性函数，可以用三分法来求解。</p>
<p>这里的 Calc 函数需要比较繁琐的推倒公式：<br>s = l <em> cos(θ) + w </em> sin(θ) - x;<br>h = s <em> tan(θ) + w </em> cos(θ);<br>其中 s 为汽车最右边的点离拐角的水平距离, h 为里拐点最高的距离, θ 范围从 0 到 90。</p>
<footer><strong>轉貼備份</strong><cite><a href="http://www.cnblogs.com/newpanderking/archive/2011/08/25/2153777.html" target="_blank" rel="external">www.cnblogs.com/newpanderking/&hellip;</a></cite></footer></blockquote>


<p>看著大神給的三分搜索的式子，用簡單的凸性勾勒出來。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;sstream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="comment">// http://www.cnblogs.com/newpanderking/archive/2011/08/25/2153777.html</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(-<span class="number">1</span>);</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> eps 1e-6 </span></div><div class="line"><span class="keyword">double</span> ternary_search(<span class="keyword">double</span> H, <span class="keyword">double</span> W, <span class="keyword">double</span> X, <span class="keyword">double</span> Y) {</div><div class="line">	<span class="keyword">double</span> l = <span class="number">0</span>, r = pi /<span class="number">2</span>, mid, midmid;</div><div class="line">	<span class="keyword">double</span> s1, h1, s2, h2;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">fabs</span>(l - r) &gt; eps) {</div><div class="line">		mid = (l + r) /<span class="number">2</span>;</div><div class="line">		midmid = (mid + r) /<span class="number">2</span>;</div><div class="line">		s1 = H * <span class="built_in">cos</span>(mid) + W * <span class="built_in">sin</span>(mid) - X;</div><div class="line">		h1 = s1 * <span class="built_in">tan</span>(mid) + W * <span class="built_in">cos</span>(mid);</div><div class="line">		s2 = H * <span class="built_in">cos</span>(midmid) + W * <span class="built_in">sin</span>(midmid) - X;</div><div class="line">		h2 = s2 * <span class="built_in">tan</span>(midmid) + W * <span class="built_in">cos</span>(midmid);</div><div class="line">		<span class="keyword">if</span>(h1 &lt; h2)</div><div class="line">			l = mid;</div><div class="line">		<span class="keyword">else</span></div><div class="line">			r = mid;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> h1;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">char</span> line[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">while</span>(gets(line)) {</div><div class="line">		<span class="built_in">stringstream</span> <span class="built_in">sin</span>(line);</div><div class="line">		<span class="built_in">string</span> token;</div><div class="line">		<span class="built_in">sin</span> &gt;&gt; token;</div><div class="line">		<span class="keyword">double</span> H, W, X, Y;</div><div class="line">		<span class="built_in">sscanf</span>(token.c_str(), <span class="string">"%lf,%lf"</span>, &amp;H, &amp;W);</div><div class="line">		<span class="keyword">if</span>(H &lt; W)</div><div class="line">			swap(H, W);</div><div class="line">		<span class="keyword">while</span>(<span class="built_in">sin</span> &gt;&gt; token) {</div><div class="line">			<span class="built_in">sscanf</span>(token.c_str(), <span class="string">"%lf,%lf"</span>, &amp;X, &amp;Y);</div><div class="line">			<span class="keyword">double</span> h = ternary_search(H, W, X, Y);</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%c"</span>, h &lt;= Y ? <span class="string">'Y'</span> : <span class="string">'N'</span>);</div><div class="line">		}</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-174" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-174/" class="article-date">
  <time datetime="2014-06-24T09:17:39.000Z" itemprop="datePublished">Jun 24 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-174/">UVa 174 - Strategy</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-174/" data-id="zapgd8enysh6kvcm" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-174/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/遞迴分析/">遞迴分析</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>A well known psychology experiment involves people playing a game in which they can either trade with each other or attempt to cheat the other player. If both players TRADE then each gains one point. If one TRADEs and the other CHEATs then the TRADEr loses 2 points and the CHEATer wins 2. If both CHEAT then each loses 1 point.</p>
<p>There are a variety of different strategies for playing this game, although most people are either unable to find a winning strategy, or, having decided on a strategy, do not stick to it. Thus it is fairer to attempt to evaluate these strategies by simulation on a computer. Each strategy is simulated by an automaton. An automaton is characterised by a program incorporating the strategy, a memory for previous encounters and a count reflecting the score of that automaton. The count starts at zero and is altered according to the above rules after each encounter. The memory is able to determine what happened on up to the last two encounters with each other contender.</p>
<p>Write a program that will read in details of up to 10 different strategies, play each strategy against each other strategy 10 times and then print out the final scores. Strategies will be in the form of simple programs obeying the following grammar:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">program</span>&gt;</span> ::= <span class="tag">&lt;<span class="title">statement</span>&gt;</span>.</div><div class="line"><span class="tag">&lt;<span class="title">statement</span>&gt;</span> ::= <span class="tag">&lt;<span class="title">command</span>&gt;</span> tex2html_wrap_inline45 <span class="tag">&lt;<span class="title">ifstat</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">ifstat</span>&gt;</span> ::= IF <span class="tag">&lt;<span class="title">condition</span>&gt;</span> THEN <span class="tag">&lt;<span class="title">statement</span>&gt;</span> ELSE <span class="tag">&lt;<span class="title">statement</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">condition</span>&gt;</span> ::= <span class="tag">&lt;<span class="title">cond</span>&gt;</span> tex2html_wrap_inline45 <span class="tag">&lt;<span class="title">cond</span>&gt;</span> <span class="tag">&lt;<span class="title">op</span>&gt;</span> <span class="tag">&lt;<span class="title">condition</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">op</span>&gt;</span> ::= AND tex2html_wrap_inline45 OR</div><div class="line"><span class="tag">&lt;<span class="title">cond</span>&gt;</span> ::= <span class="tag">&lt;<span class="title">memory</span>&gt;</span> {= tex2html_wrap_inline45 #} {<span class="tag">&lt;<span class="title">command</span>&gt;</span> tex2html_wrap_inline45 NULL}</div><div class="line"><span class="tag">&lt;<span class="title">memory</span>&gt;</span> ::= {MY tex2html_wrap_inline45 YOUR} LAST {1 tex2html_wrap_inline45 2}</div><div class="line"><span class="tag">&lt;<span class="title">command</span>&gt;</span> ::= TRADE tex2html_wrap_inline45 CHEAT</div></pre></td></tr></table></figure>

<p>Note that LAST1 refers to the previous encounter between these two automata, LAST2 to the encounter before that and that <code>MY&#39; and</code>YOUR’ have the obvious meanings. Spaces and line breaks may appear anywhere in the program and are for legibility only. The symbol <code>#&#39; means</code>is not equal to’. NULL indicates that an encounter has not ocurred. The following are valid programs:</p>
<p>CHEAT.<br>IF MY LAST1 = CHEAT THEN TRADE ELSE CHEAT.<br>IFYOURLAST2=NULLTHENTRADEELSEIFYOURLAST1=TRADETHENTRADE<br>ELSECHEAT.</p>
<h2 id="Input">Input</h2>
<p>Input will consist of a series of programs. Each program will be no longer than 255 characters and may be split over several lines for convenience. There will be no more than 10 programs. The file will be terminated by a line containing only a single `#’.</p>
<h2 id="Output">Output</h2>
<p>Output will consist of one line for each line of input. Each line will consist of the final score of the relevant program right justified in a field of width 3.</p>
<h2 id="Sample_input">Sample input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CHEAT.</div><div class="line">IF MY <span class="variable">LAST1 =</span> CHEAT THEN TRADE ELSE CHEAT.</div><div class="line"><span class="variable">IFYOURLAST2=</span><span class="variable">NULLTHENTRADEELSEIFYOURLAST1=</span>TRADETHENTRADE</div><div class="line">ELSECHEAT.</div><div class="line"><span class="comment">#</span></div></pre></td></tr></table></figure>

<h2 id="Sample_output">Sample output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  1</div><div class="line">-<span class="ruby"><span class="number">12</span></span></div><div class="line">-<span class="ruby"><span class="number">13</span></span></div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>現在這邊有兩台機器人，玩類似 “吹牛” 的紙牌遊戲，欺騙成功者將獲得點數。</p>
<p>而每一台機器的策略也有所不同，並且能根據對方前幾次和自己前幾次的策略進行判斷，給予每一台機器的策略模式，請兩兩互打 10 回合，最後輸出每一台機器的得分概況。</p>
<p><strong> 題目解法： </strong></p>
<p>這題不只有語法分析，還有語意分析。總之，遞迴分析是最主要的技巧。<br>對於 AND 和 OR 運算，測資中似乎沒有優先順序的情況，所以直接由左而右進行即可。</p>
<p>而在分析的時候，嘗試將指針一直往後移動，並且解析出第一個符合條件的 token。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;assert.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;ctype.h&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">enum</span> ACTION {TRADE, CHEAT, EMPTY};</div><div class="line"><span class="keyword">enum</span> RECORD {LAST1, LAST2};</div><div class="line"><span class="keyword">class</span> Memory {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="stl_container"><span class="built_in">map</span>&lt;RECORD, ACTION&gt;</span> R;</div><div class="line">    Memory() {</div><div class="line">        R[LAST1] = EMPTY;</div><div class="line">        R[LAST2] = EMPTY;</div><div class="line">    }</div><div class="line">    <span class="keyword">static</span> ACTION getAction(<span class="built_in">string</span> s) {</div><div class="line">        <span class="keyword">if</span>(s == <span class="string">"TRADE"</span>)    <span class="keyword">return</span> TRADE;</div><div class="line">        <span class="keyword">if</span>(s == <span class="string">"CHEAT"</span>)    <span class="keyword">return</span> CHEAT;</div><div class="line">        <span class="keyword">if</span>(s == <span class="string">"EMPTY"</span>)    <span class="keyword">return</span> EMPTY;</div><div class="line">        assert(<span class="keyword">false</span>);</div><div class="line">    }</div><div class="line">    ACTION getMemory(<span class="built_in">string</span> addr) {</div><div class="line">        <span class="keyword">if</span> (addr == <span class="string">"LAST1"</span>)</div><div class="line">            <span class="keyword">return</span> R[LAST1];</div><div class="line">        <span class="keyword">if</span> (addr == <span class="string">"LAST2"</span>)</div><div class="line">            <span class="keyword">return</span> R[LAST2];</div><div class="line">        assert(<span class="keyword">false</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">void</span> record(ACTION a) {</div><div class="line">        ACTION last1 = R[LAST1], last2 = R[LAST2];</div><div class="line">        R[LAST1] = a;</div><div class="line">        R[LAST2] = last1;</div><div class="line">    }</div><div class="line">};</div><div class="line"><span class="keyword">class</span> Strategy {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">char</span> prog[<span class="number">1024</span>];</div><div class="line">    Strategy(<span class="built_in">string</span> s) {</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</div><div class="line">            prog[i] = s[i];</div><div class="line">        }</div><div class="line">        prog[s.length()] = <span class="string">'\0'</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">char</span>* match(<span class="keyword">char</span> *str, <span class="keyword">const</span> <span class="keyword">char</span> *p) {</div><div class="line">        <span class="keyword">if</span> (str == NULL)</div><div class="line">            <span class="keyword">return</span>  NULL;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">memcmp</span>(str, p, <span class="built_in">strlen</span>(p)) == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> str + <span class="built_in">strlen</span>(p);</div><div class="line">        <span class="keyword">return</span> NULL;</div><div class="line">    }</div><div class="line"><span class="comment">/*</span></div><div class="line"> &lt;condition&gt; ::= &lt;cond&gt; | &lt;cond&gt; &lt;op&gt; &lt;condition&gt;</div><div class="line"> &lt;op&gt; ::= AND | OR</div><div class="line"> &lt;cond&gt; ::= &lt;memory&gt; {= | #} {&lt;command&gt; | NULL}</div><div class="line"> &lt;memory&gt; ::= {MY | YOUR} LAST {1 | 2}</div><div class="line"> &lt;command&gt; ::= TRADE | CHEAT</div><div class="line"> */</div><div class="line">    <span class="keyword">bool</span> cond(<span class="keyword">char</span>* &amp;p, Memory MY, Memory YOUR) {</div><div class="line">        <span class="comment">// printf("condition %s\n", p);</span></div><div class="line">        <span class="keyword">char</span>        *q;</div><div class="line">        Memory      *addr = NULL;</div><div class="line">        <span class="built_in">string</span>      read, equal, kind;</div><div class="line">        <span class="comment">/* &lt;memory&gt; */</span></div><div class="line">        q = match(p, <span class="string">"MY"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, addr = &amp;MY;</div><div class="line">        q = match(p, <span class="string">"YOUR"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, addr = &amp;YOUR;</div><div class="line">        q = match(p, <span class="string">"LAST1"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, read = <span class="string">"LAST1"</span>;</div><div class="line">        q = match(p, <span class="string">"LAST2"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, read = <span class="string">"LAST2"</span>;</div><div class="line">        <span class="comment">/* {= | #} */</span></div><div class="line">        q = match(p, <span class="string">"="</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, equal = <span class="string">"="</span>;</div><div class="line">        q = match(p, <span class="string">"#"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)   p = q, equal = <span class="string">"#"</span>;</div><div class="line">        <span class="comment">/* {&lt;command&gt; | NULL} */</span></div><div class="line">        q = match(p, <span class="string">"TRADE"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)  p = q, kind = <span class="string">"TRADE"</span>;</div><div class="line">        q = match(p, <span class="string">"CHEAT"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)  p = q, kind = <span class="string">"CHEAT"</span>;</div><div class="line">        q = match(p, <span class="string">"NULL"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)  p = q, kind = <span class="string">"EMPTY"</span>;</div><div class="line">        <span class="keyword">bool</span> ret = equal == <span class="string">"="</span> ? addr-&gt;getMemory(read) == Memory::getAction(kind) :</div><div class="line">									addr-&gt;getMemory(read) != Memory::getAction(kind);</div><div class="line">        <span class="comment">// cout &lt;&lt; "ADDR: " &lt;&lt; addr-&gt;getMemory(read) &lt;&lt; ", ACTION: " &lt;&lt; Memory::getAction(kind) &lt;&lt; endl;</span></div><div class="line">        <span class="comment">// cout &lt;&lt; read &lt;&lt; ", " &lt;&lt; kind &lt;&lt; endl; </span></div><div class="line">        <span class="comment">/* &lt;op&gt; &lt;condition&gt; */</span></div><div class="line">        q = match(p, <span class="string">"AND"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)  p = q, ret = ret&amp;cond(p, MY, YOUR);</div><div class="line">        q = match(p, <span class="string">"OR"</span>);</div><div class="line">        <span class="keyword">if</span>(q != NULL)  p = q, ret = ret|cond(p, MY, YOUR);</div><div class="line">        <span class="comment">// cout &lt;&lt; "return " &lt;&lt; ret &lt;&lt; endl;</span></div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    }</div><div class="line">    ACTION ifstat(<span class="keyword">char</span>* &amp;p, Memory a, Memory b) {</div><div class="line">        <span class="keyword">char</span> *q;</div><div class="line">        q = match(p, <span class="string">"IF"</span>);</div><div class="line">        <span class="keyword">if</span> (q != NULL) {</div><div class="line">            p = q;</div><div class="line">            <span class="keyword">bool</span> f = cond(p, a, b);</div><div class="line">            ACTION a1, a2;</div><div class="line">            q = match(p, <span class="string">"THEN"</span>);</div><div class="line">            p = q;</div><div class="line">            a1 = statement(p, a, b);</div><div class="line">            q = match(p, <span class="string">"ELSE"</span>);</div><div class="line">        	p = q;</div><div class="line">        	a2 = statement(p, a, b);</div><div class="line">        	<span class="keyword">return</span> f ? a1 : a2;</div><div class="line">        }</div><div class="line">        assert(<span class="keyword">false</span>);</div><div class="line">    }</div><div class="line">    ACTION statement(<span class="keyword">char</span>* &amp;p, Memory a, Memory b) {</div><div class="line">        <span class="comment">// printf("%s\n", p);</span></div><div class="line">        <span class="keyword">char</span> *q;</div><div class="line">        q = match(p, <span class="string">"TRADE"</span>);</div><div class="line">        <span class="keyword">if</span> (q != NULL)  {</div><div class="line">            p = q;</div><div class="line">            <span class="keyword">return</span> TRADE;</div><div class="line">        }</div><div class="line">        q = match(p, <span class="string">"CHEAT"</span>);</div><div class="line">        <span class="keyword">if</span> (q != NULL) {</div><div class="line">            p = q;</div><div class="line">            <span class="keyword">return</span> CHEAT;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> ifstat(p, a, b);</div><div class="line">    }</div><div class="line">    ACTION eval(<span class="keyword">char</span>* &amp;p, Memory a, Memory b) { <span class="comment">// read only</span></div><div class="line">        <span class="comment">// printf("eval %s\n", p);</span></div><div class="line">        <span class="keyword">return</span> statement(p, a, b);</div><div class="line">    }</div><div class="line">};</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">char</span> c, s[<span class="number">1024</span>];</div><div class="line">    <span class="stl_container"><span class="built_in">vector</span>&lt;Strategy&gt;</span> machine;</div><div class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) {</div><div class="line">        <span class="keyword">int</span> n = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> ((c = getchar()) != EOF) {</div><div class="line">            <span class="keyword">if</span>(c == <span class="string">'.'</span> || (c == <span class="string">'#'</span> &amp;&amp; n == <span class="number">0</span>) )</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">isspace</span>(c))</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            s[n++] = c;</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        s[n++] = <span class="string">'\0'</span>;</div><div class="line">        machine.push_back(Strategy(s));</div><div class="line">    }</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXN 20</span></div><div class="line">    <span class="keyword">int</span> SCORE[MAXN] = {};</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; machine.size(); i++) {</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; machine.size(); j++) {</div><div class="line">            Memory      ma, mb;</div><div class="line">            Strategy    &amp;A = machine[i];</div><div class="line">            Strategy    &amp;B = machine[j];</div><div class="line">            <span class="keyword">char</span>        *p;</div><div class="line">            </div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++) {</div><div class="line">                ACTION ia = A.eval(p = A.prog, ma, mb);</div><div class="line">                ACTION ib = B.eval(p = B.prog, mb, ma);</div><div class="line">                <span class="keyword">if</span>(ia == TRADE &amp;&amp; ib == TRADE)</div><div class="line">                	SCORE[i]++, SCORE[j]++;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ia == TRADE &amp;&amp; ib == CHEAT)</div><div class="line">                	SCORE[i] -= <span class="number">2</span>, SCORE[j] += <span class="number">2</span>;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ia == CHEAT &amp;&amp; ib == TRADE)</div><div class="line">                	SCORE[i] += <span class="number">2</span>, SCORE[j] -= <span class="number">2</span>;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                	SCORE[i]--, SCORE[j]--;</div><div class="line">                ma.record(ia), mb.record(ib);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; machine.size(); i++)</div><div class="line">    	<span class="built_in">printf</span>(<span class="string">"%3d\n"</span>, SCORE[i]);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/categories/解題區/page/39/">&laquo; Prev</a><a class="page-number" href="/categories/解題區/">1</a><span class="space">&hellip;</span><a class="page-number" href="/categories/解題區/page/38/">38</a><a class="page-number" href="/categories/解題區/page/39/">39</a><span class="page-number current">40</span><a class="page-number" href="/categories/解題區/page/41/">41</a><a class="page-number" href="/categories/解題區/page/42/">42</a><span class="space">&hellip;</span><a class="page-number" href="/categories/解題區/page/45/">45</a><a class="extend next" rel="next" href="/categories/解題區/page/41/">Next &raquo;</a>
    </nav>
  
</section>
          
            <aside id="sidebar">
  <div id="ukagaka_panel"></div>

  

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">46</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">449</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">409</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2015/04/20/2015-google-code-jam-1A/">
              
                <i class="icon-file-o"></i> 
              
            2015 Google Code Jam Round 1A</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1115/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1115 - Water Shortage</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1089/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1089 - Suffix-Replacement Grammars</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1084/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1084 - Deer-Proof Fence</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1080/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1080 - My Bad</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1078/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1078 - Steam Roller</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1076/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1076 - Password Suspects</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1063/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1063 - Marble Game</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1049/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1049 - Remember the A La Mode</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1048/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1048 - Low Cost Air Travel</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget widget-background1">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮神"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="#" title=""><i class="icon-github-alt"></i> Can you translate world for me ?</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
</aside>

          
            
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://plus.google.com/u/0/108158678174364359204" target="_blank" title="Google+"><i class="icon-google-plus-sign"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2015 Shiang-Yun Yang 
    </div>  

  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/picture" class="mobile-nav-link">Pictures</a>
  
    <a href="/works" class="mobile-nav-link">Works</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/jquery.lazyload.js" type="text/javascript"></script>

<script src="/js/jquery.als-1.6.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>