<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="/img/f.png">
  
  <title>Category: 解題區 | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ACMer NEET NCU UVa OJ">
<meta property="og:type" content="website">
<meta property="og:title" content="Morris' Blog">
<meta property="og:url" content="http://morris821028.github.io/categories/解題區/page/45/">
<meta property="og:site_name" content="Morris' Blog">
<meta property="og:description" content="ACMer NEET NCU UVa OJ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris' Blog">
<meta name="twitter:description" content="ACMer NEET NCU UVa OJ">
<link rel="publisher" href="108158678174364350000">

  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Can you find me ?</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main">
  
    <article id="post-oj/other/mooc-week6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/23/oj/other/mooc-week6/" class="article-date">
  <time datetime="2014-04-23T04:15:14.000Z" itemprop="datePublished">Apr 23 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/1398181133698.png" rel="gallery_f4u3hfatgoa8fg1d">
        <img src="/img/1398181133698.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/23/oj/other/mooc-week6/">程序设计实习 MOOC Week 6(待補)</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/23/oj/other/mooc-week6/" data-id="f4u3hfatgoa8fg1d" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/23/oj/other/mooc-week6/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模擬/">模擬</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/物件導向/">物件導向</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="前提概要">前提概要</h1>
<p>這一道題目，照理來講是一版一版慢慢加強，但是突然接收到巨噁模擬題。在很有耐心看完後，看起來是不得度使用物件導向的多形來模擬，不然程式代碼會寫得非常難看，難看也倒還好，只是怕寫不出來。</p>
<p>不過礙於時間關係，寫到一半還是放棄了，於是附加的代碼是 <strong> 失敗 </strong> 的。</p>
<p>卡在 RE 狀態，明明本地端測試不會有噴出 RE 資訊，上傳卻發生了 RE，暫時沒有辦法去解決。<br><a href="http://cxsjsxmooc.openjudge.cn/hw6/" target="_blank" rel="external">題目來源</a></p>
<h1 id="A_-_魔兽世界终极版">A - 魔兽世界终极版</h1>
<h2 id="題目">題目</h2>
<p>总时间限制: 2000ms    内存限制: 65536kB</p>
<p>描述</p>
<blockquote>

<p>魔兽世界的西面是红魔军的司令部，东面是蓝魔军的司令部。两个司令部之间是依次排列的若干城市，城市从西向东依次编号为1,2,3 …. N ( N &lt;= 20 )。红魔军的司令部算作编号为0的城市，蓝魔军的司令部算作编号为N+1的城市。司令部有生命元，用于制造武士。</p>
<p>两军的司令部都会制造武士。武士一共有 dragon 、ninja、iceman、lion、wolf 五种。每种武士都有编号、生命值、攻击力这三种属性。</p>
<p>双方的武士编号都是从1开始计算。红方制造出来的第 n 个武士，编号就是n。同样，蓝方制造出来的第 n 个武士，编号也是n。</p>
<p>武士在刚降生的时候有一个初始的生命值，生命值在战斗中会发生变化，如果生命值减少到0（生命值变为负数时应当做变为0处理），则武士死亡（消失）。</p>
<p>有的武士可以拥有武器。武器有三种，sword, bomb,和arrow，编号分别为0,1,2。</p>
<p>武士降生后就朝对方司令部走，在经过的城市如果遇到敌人（同一时刻每个城市最多只可能有1个蓝武士和一个红武士），就会发生战斗。每次战斗只有一方发起主动进攻一次。被攻击者生命值会减去进攻者的攻击力值和进攻者手中sword的攻击力值。被进攻者若没死，就会发起反击，被反击者的生命值要减去反击者攻击力值的一半(去尾取整)和反击者手中sword的攻击力值。反击可能致敌人于死地。</p>
<p>如果武士在战斗中杀死敌人（不论是主动进攻杀死还是反击杀死），则其司令部会立即向其发送8个生命元作为奖励，使其生命值增加8。当然前提是司令部得有8个生命元。如果司令部的生命元不足以奖励所有的武士，则优先奖励距离敌方司令部近的武士。</p>
<p>如果某武士在某城市的战斗中杀死了敌人，则该武士的司令部立即取得该城市中所有的生命元。注意，司令部总是先完成全部奖励工作，然后才开始从各个打了胜仗的城市回收生命元。对于因司令部生命元不足而领不到奖励的武士，司令部也不会在取得战利品生命元后为其补发奖励。</p>
<p>如果一次战斗的结果是双方都幸存(平局)，则双方都不能拿走发生战斗的城市的生命元。</p>
<p>城市可以插旗子，一开始所有城市都没有旗子。在插红旗的城市，以及编号为奇数的无旗城市，由红武士主动发起进攻。在插蓝旗的城市，以及编号为偶数的无旗城市，由蓝武士主动发起进攻。</p>
<p>当某个城市有连续两场战斗都是同一方的武士杀死敌人(两场战斗之间如果有若干个战斗时刻并没有发生战斗，则这两场战斗仍然算是连续的；但如果中间有平局的战斗，就不算连续了) ，那么该城市就会插上胜方的旗帜，若原来插着败方的旗帜，则败方旗帜落下。旗帜一旦插上，就一直插着，直到被敌人更换。一个城市最多只能插一面旗帜，旗帜没被敌人更换前，也不会再次插同颜色的旗。</p>
<p>各种武器有其特点：</p>
<p>sword武器的初始攻击力为拥有它的武士的攻击力的20%（去尾取整）。但是sword每经过一次战斗(不论是主动攻击还是反击)，就会变钝，攻击力变为本次战斗前的80% (去尾取整)。sword攻击力变为0时，视为武士失去了sword。如果武士降生时得到了一个初始攻击力为0的sword，则视为武士没有sword.</p>
<p>arrow有一个攻击力值R。如果下一步要走到的城市有敌人，那么拥有arrow的武士就会放箭攻击下一个城市的敌人（不能攻击对方司令部里的敌人）而不被还击。arrow使敌人的生命值减少R，若减至小于等于0，则敌人被杀死。arrow使用3次后即被耗尽，武士失去arrow。两个相邻的武士可能同时放箭把对方射死。</p>
<p>拥有bomb的武士，在战斗开始前如果判断自己将被杀死（不论主动攻击敌人，或者被敌人主动攻击都可能导致自己被杀死，而且假设武士可以知道敌人的攻击力和生命值），那么就会使用bomb和敌人同归于尽。武士不预测对方是否会使用bomb。</p>
<p>武士使用bomb和敌人同归于尽的情况下，不算是一场战斗，双方都不能拿走城市的生命元，也不影响城市的旗帜。</p>
<p>不同的武士有不同的特点。</p>
<p>dragon可以拥有一件武器。编号为n的dragon降生时即获得编号为 n%3 的武器。dragon还有“士气”这个属性，是个浮点数，其值为它降生后其司令部剩余生命元的数量除以造dragon所需的生命元数量。dragon 在一次在它主动进攻的战斗结束后，如果还没有战死，而且士气值大于0.8，就会欢呼。dragon每取得一次战斗的胜利(敌人被杀死)，士气就会增加0.2，每经历一次未能获胜的战斗，士气值就会减少0.2。士气增减发生在欢呼之前。</p>
<p>ninjia可以拥有两件武器。编号为n的ninjia降生时即获得编号为 n%3 和 (n+1)%3的武器。ninja 挨打了也从不反击敌人。</p>
<p>iceman有一件武器。编号为n的iceman降生时即获得编号为 n%3 的武器。iceman 每前进两步，在第2步完成的时候，生命值会减少9，攻击力会增加20。但是若生命值减9后会小于等于0，则生命值不减9,而是变为1。即iceman不会因走多了而死。</p>
<p>lion 有“忠诚度”这个属性，其初始值等于它降生之后其司令部剩余生命元的数目。每经过一场未能杀死敌人的战斗，忠诚度就降低K。忠诚度降至0或0以下，则该lion逃离战场,永远消失。但是已经到达敌人司令部的lion不会逃跑。Lion在己方司令部可能逃跑。lion 若是战死，则其战斗前的生命值就会转移到对手身上。所谓“战斗前”，就是每个小时的40分前的一瞬间。</p>
<p>wolf降生时没有武器，但是在战斗中如果获胜（杀死敌人），就会缴获敌人的武器，但自己已有的武器就不缴获了。被缴获的武器当然不能算新的，已经被用到什么样了，就是什么样的。</p>
<p>以下是不同时间会发生的不同事件：</p>
<p>在每个整点，即每个小时的第0分， 双方的司令部中各有一个武士降生。</p>
<p>红方司令部按照 iceman、lion、wolf、ninja、dragon 的顺序制造武士。</p>
<p>蓝方司令部按照 lion、dragon、ninja、iceman、wolf 的顺序制造武士。</p>
<p>制造武士需要生命元。</p>
<p>制造一个初始生命值为 m 的武士，司令部中的生命元就要减少 m 个。</p>
<p>如果司令部中的生命元不足以制造某武士，那么司令部就等待，直到获得足够生命元后的第一个整点，才制造该武士。例如，在2:00，红方司令部本该制造一个 wolf ，如果此时生命元不足，那么就会等待，直到生命元足够后的下一个整点，才制造一个 wolf。</p>
<p>在每个小时的第5分，该逃跑的lion就在这一时刻逃跑了。</p>
<p>在每个小时的第10分：所有的武士朝敌人司令部方向前进一步。即从己方司令部走到相邻城市，或从一个城市走到下一个城市。或从和敌军司令部相邻的城市到达敌军司令部。</p>
<p>在每个小时的第20分：每个城市产出10个生命元。生命元留在城市，直到被武士取走。</p>
<p>在每个小时的第30分：如果某个城市中只有一个武士，那么该武士取走该城市中的所有生命元，并立即将这些生命元传送到其所属的司令部。</p>
<p>在每个小时的第35分，拥有arrow的武士放箭，对敌人造成伤害。放箭事件应算发生在箭发出的城市。注意，放箭不算是战斗，因此放箭的武士不会得到任何好处。武士在没有敌人的城市被箭射死也不影响其所在城市的旗帜更换情况。</p>
<p>在每个小时的第38分，拥有bomb的武士评估是否应该使用bomb。如果是，就用bomb和敌人同归于尽。</p>
<p>在每个小时的第40分：在有两个武士的城市，会发生战斗。 如果敌人在5分钟前已经被飞来的arrow射死，那么仍然视为发生了一场战斗，而且存活者视为获得了战斗的胜利。此情况下不会有“武士主动攻击”，“武士反击”，“武士战死”的事件发生，但战斗胜利后应该发生的事情都会发生。如Wolf一样能缴获武器，旗帜也可能更换，等等。在此情况下,Dragon同样会通过判断是否应该轮到自己主动攻击来决定是否欢呼。</p>
<p>在每个小时的第50分，司令部报告它拥有的生命元数量。</p>
<p>在每个小时的第55分，每个武士报告其拥有的武器情况。</p>
<p>武士到达对方司令部后就算完成任务了，从此就呆在那里无所事事。</p>
<p>任何一方的司令部里若是出现了2个敌人，则认为该司令部已被敌人占领。</p>
<p>任何一方的司令部被敌人占领，则战争结束。战争结束之后就不会发生任何事情了。</p>
<p>给定一个时间，要求你将从0点0分开始到此时间为止的所有事件按顺序输出。事件及其对应的输出样例如下：</p>
<p>1) 武士降生</p>
<pre><code>输出样例： 000<span class="pseudo">:00</span> <span class="tag">blue</span> <span class="tag">lion</span> 1 <span class="tag">born</span>

表示在 0点0分，编号为1的蓝魔<span class="tag">lion</span>武士降生
如果造出的是<span class="tag">dragon</span>，那么还要多输出一行，例：

000<span class="pseudo">:00</span> <span class="tag">blue</span> <span class="tag">dragon</span> 1 <span class="tag">born</span>
<span class="tag">Its</span> <span class="tag">morale</span> <span class="tag">is</span> 23<span class="class">.34</span>

表示该该<span class="tag">dragon</span>降生时士气是23. 34(四舍五入到小数点后两位)

如果造出的是<span class="tag">lion</span>，那么还要多输出一行，例:
000<span class="pseudo">:00</span> <span class="tag">blue</span> <span class="tag">lion</span> 1 <span class="tag">born</span>
<span class="tag">Its</span> <span class="tag">loyalty</span> <span class="tag">is</span> 24

表示该<span class="tag">lion</span>降生时的忠诚度是24
</code></pre><p>2) lion逃跑</p>
<pre><code>输出样例： 000<span class="pseudo">:05</span> <span class="tag">blue</span> <span class="tag">lion</span> 1 <span class="tag">ran</span> <span class="tag">away</span>
表示在 0点5分，编号为1的蓝魔<span class="tag">lion</span>武士逃走
</code></pre><p>3) 武士前进到某一城市</p>
<pre><code>输出样例： <span class="number">000</span>:<span class="number">10</span> red iceman <span class="number">1</span> marched <span class="keyword">to</span> city <span class="number">1</span> <span class="keyword">with</span> <span class="number">20</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">30</span>
表示在 <span class="number">0</span>点<span class="number">10</span>分，红魔<span class="number">1</span>号武士iceman前进到<span class="number">1</span>号城市，此时他生命值为<span class="number">20</span>,攻击力为<span class="number">30</span>
对于iceman,输出的生命值和攻击力应该是变化后的数值
</code></pre><p>4)武士放箭</p>
<pre><code>输出样例： 000<span class="pseudo">:35</span> <span class="tag">blue</span> <span class="tag">dragon</span> 1 <span class="tag">shot</span>
表示在 0点35分，编号为1的蓝魔<span class="tag">dragon</span>武士射出一支箭。如果射出的箭杀死了敌人，则应如下输出：
000<span class="pseudo">:35</span> <span class="tag">blue</span> <span class="tag">dragon</span> 1 <span class="tag">shot</span> <span class="tag">and</span> <span class="tag">killed</span> <span class="tag">red</span> <span class="tag">lion</span> 4
表示在 0点35分，编号为1的蓝魔<span class="tag">dragon</span>武士射出一支箭，杀死了编号为4的红魔<span class="tag">lion</span>。
</code></pre><p>5)武士使用bomb</p>
<pre><code>输出样例： <span class="number">000</span>:<span class="number">38</span> blue dragon <span class="number">1</span> used <span class="operator">a</span> bomb <span class="operator">and</span> killed red lion <span class="number">7</span>
表示在 <span class="number">0</span>点<span class="number">38</span>分，编号为<span class="number">1</span>的蓝魔dragon武士用炸弹和编号为<span class="number">7</span>的红魔lion同归于尽。
</code></pre><p>6) 武士主动进攻</p>
<pre><code>输出样例：<span class="number">000</span>:<span class="number">40</span> red iceman <span class="number">1</span> attacked blue lion <span class="number">1</span> <span class="keyword">in</span> city <span class="number">1</span> <span class="keyword">with</span> <span class="number">20</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">30</span>
表示在<span class="number">0</span>点<span class="number">40</span>分，<span class="number">1</span>号城市中，红魔<span class="number">1</span>号武士iceman 进攻蓝魔<span class="number">1</span>号武士lion,在发起进攻前，红魔<span class="number">1</span>号武士iceman生命值为<span class="number">20</span>，攻击力为 <span class="number">30</span>
</code></pre><p>7) 武士反击</p>
<pre><code>输出样例：<span class="number">001</span>:<span class="number">40</span> blue dragon <span class="number">2</span> fought <span class="keyword">back</span> <span class="keyword">against</span> red lion <span class="number">2</span> <span class="keyword">in</span> city <span class="number">1</span>
表示在<span class="number">1</span>点<span class="number">40</span>分，<span class="number">1</span>号城市中，蓝魔<span class="number">2</span>号武士dragon反击红魔<span class="number">2</span>号武士lion
</code></pre><p>8) 武士战死</p>
<pre><code>输出样例：<span class="number">001</span>:<span class="number">40</span> red lion <span class="number">2</span> was killed <span class="keyword">in</span> city <span class="number">1</span>
被箭射死的武士就不会有这一条输出。
</code></pre><p>9) 武士欢呼</p>
<pre><code>输出样例：<span class="number">003</span>:<span class="number">40</span> blue dragon <span class="number">2</span> yelled <span class="keyword">in</span> city <span class="number">4</span>
</code></pre><p>10) 武士获取生命元( elements )</p>
<pre><code>输出样例：<span class="number">001</span>:<span class="number">40</span> blue dragon <span class="number">2</span> earned <span class="number">10</span> elements <span class="keyword">for</span> his headquarter
</code></pre><p>11) 旗帜升起</p>
<pre><code>输出样例：<span class="number">004</span>:<span class="number">40</span> blue flag raised <span class="keyword">in</span> city <span class="number">4</span>
</code></pre><p>12) 武士抵达敌军司令部</p>
<pre><code>输出样例：<span class="number">001</span>:<span class="number">10</span> red iceman <span class="number">1</span> reached blue headquarter <span class="keyword">with</span> <span class="number">20</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">30</span>
(此时他生命值为<span class="number">20</span>,攻击力为<span class="number">30</span>）对于iceman,输出的生命值和攻击力应该是变化后的数值
</code></pre><p>13) 司令部被占领</p>
<pre><code>输出样例：003<span class="pseudo">:10</span> <span class="tag">blue</span> <span class="tag">headquarter</span> <span class="tag">was</span> <span class="tag">taken</span>
</code></pre><p>14)司令部报告生命元数量</p>
<pre><code><span class="number">000</span>:<span class="number">50</span> <span class="number">100</span> elements <span class="keyword">in</span> red headquarter
<span class="number">000</span>:<span class="number">50</span> <span class="number">120</span> elements <span class="keyword">in</span> blue headquarter
表示在<span class="number">0</span>点<span class="number">50</span>分，红方司令部有<span class="number">100</span>个生命元，蓝方有<span class="number">120</span>个
</code></pre><p>15)武士报告武器情况</p>
<pre><code>000<span class="pseudo">:55</span> <span class="tag">blue</span> <span class="tag">wolf</span> 2 <span class="tag">has</span> <span class="tag">arrow</span>(2),<span class="tag">bomb</span>,<span class="tag">sword</span>(23)
000<span class="pseudo">:55</span> <span class="tag">blue</span> <span class="tag">wolf</span> 4 <span class="tag">has</span> <span class="tag">no</span> <span class="tag">weapon</span>
000<span class="pseudo">:55</span> <span class="tag">blue</span> <span class="tag">wolf</span> 5 <span class="tag">has</span> <span class="tag">sword</span>(20)
表示在0点55分，蓝魔2号武士<span class="tag">wolf</span>有一支<span class="tag">arrow</span>（这支<span class="tag">arrow</span>还可以用2次），一个<span class="tag">bomb</span>，还有一支攻击力为23的<span class="tag">sword</span>。
蓝魔4号武士<span class="tag">wolf</span>没武器。
蓝魔5号武士<span class="tag">wolf</span>有一支攻击力为20的<span class="tag">sword</span>。
交代武器情况时，次序依次是：<span class="tag">arrow</span>,<span class="tag">bomb</span>,<span class="tag">sword</span>。如果没有某种武器，某种武器就不用提。报告时，先按从西向东的顺序所有的红武士报告，然后再从西向东所有的蓝武士报告。
</code></pre><p>输出事件时：</p>
<p>首先按时间顺序输出；</p>
<p>同一时间发生的事件，按发生地点从西向东依次输出. 武士前进的事件, 算是发生在目的地。</p>
<p>在一次战斗中有可能发生上面的 6 至 11 号事件。这些事件都算同时发生，其时间就是战斗开始时间。一次战斗中的这些事件，序号小的应该先输出。</p>
<p>两个武士同时抵达同一城市，则先输出红武士的前进事件，后输出蓝武士的。</p>
<p>显然，13号事件发生之前的一瞬间一定发生了12号事件。输出时，这两件事算同一时间发生，但是应先输出12号事件</p>
<p>虽然任何一方的司令部被占领之后，就不会有任何事情发生了。但和司令部被占领同时发生的事件，全都要输出。</p>
</blockquote>


<p>输入</p>
<pre><code>第一行是t,代表测试数据组数
每组样例共三行。
第一行，五个整数 M,<span class="keyword">N</span>,R,<span class="keyword">K</span>, T。其含义为：

每个司令部一开始都有M个生命元( <span class="number">1</span> &lt;= M &lt;= <span class="number">10000</span>)
两个司令部之间一共有<span class="keyword">N</span>个城市( <span class="number">1</span> &lt;= <span class="keyword">N</span> &lt;= <span class="number">20</span> )
arrow的攻击力是R
lion每经过一场未能杀死敌人的战斗，忠诚度就降低<span class="keyword">K</span>。
要求输出从<span class="number">0</span>时<span class="number">0</span>分开始，到时间T为止(包括T) 的所有事件。T以分钟为单位，<span class="number">0</span> &lt;= T &lt;= <span class="number">5000</span>

第二行：五个整数，依次是 dragon 、ninja、iceman、lion、wolf 的初始生命值。它们都大于<span class="number">0</span>小于等于<span class="number">10000</span>

第三行：五个整数，依次是 dragon 、ninja、iceman、lion、wolf 的攻击力。它们都大于<span class="number">0</span>小于等于<span class="number">10000</span>
</code></pre><p>输出</p>
<pre><code>对每组数据，先输出一行：
<span class="keyword">Case</span> n:
如对第一组数据就输出 Case1:
然后按恰当的顺序和格式输出到时间T为止发生的所有事件。每个事件都以事件发生的时间开头，时间格式是“时: 分”，“时”有三位，“分”有两位。
</code></pre><p>样例输入</p>
<pre><code>1
20 1 10 10 1000
20 20 30 10 20
5 5 5 5 5
</code></pre><p>样例输出</p>
<pre><code><span class="keyword">Case</span> <span class="number">1</span>:
<span class="number">000</span>:<span class="number">00</span> blue lion <span class="number">1</span> born
Its loyalty <span class="keyword">is</span> <span class="number">10</span>
<span class="number">000</span>:<span class="number">10</span> blue lion <span class="number">1</span> marched <span class="keyword">to</span> city <span class="number">1</span> <span class="keyword">with</span> <span class="number">10</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">5</span>
<span class="number">000</span>:<span class="number">30</span> blue lion <span class="number">1</span> earned <span class="number">10</span> elements <span class="keyword">for</span> his headquarter
<span class="number">000</span>:<span class="number">50</span> <span class="number">20</span> elements <span class="keyword">in</span> red headquarter
<span class="number">000</span>:<span class="number">50</span> <span class="number">20</span> elements <span class="keyword">in</span> blue headquarter
<span class="number">000</span>:<span class="number">55</span> blue lion <span class="number">1</span> has no weapon
<span class="number">001</span>:<span class="number">00</span> blue dragon <span class="number">2</span> born
Its morale <span class="keyword">is</span> <span class="number">0.00</span>
<span class="number">001</span>:<span class="number">10</span> blue lion <span class="number">1</span> reached red headquarter <span class="keyword">with</span> <span class="number">10</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">5</span>
<span class="number">001</span>:<span class="number">10</span> blue dragon <span class="number">2</span> marched <span class="keyword">to</span> city <span class="number">1</span> <span class="keyword">with</span> <span class="number">20</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">5</span>
<span class="number">001</span>:<span class="number">30</span> blue dragon <span class="number">2</span> earned <span class="number">10</span> elements <span class="keyword">for</span> his headquarter
<span class="number">001</span>:<span class="number">50</span> <span class="number">20</span> elements <span class="keyword">in</span> red headquarter
<span class="number">001</span>:<span class="number">50</span> <span class="number">10</span> elements <span class="keyword">in</span> blue headquarter
<span class="number">001</span>:<span class="number">55</span> blue lion <span class="number">1</span> has no weapon
<span class="number">001</span>:<span class="number">55</span> blue dragon <span class="number">2</span> has arrow(<span class="number">3</span>)
<span class="number">002</span>:<span class="number">10</span> blue dragon <span class="number">2</span> reached red headquarter <span class="keyword">with</span> <span class="number">20</span> elements <span class="keyword">and</span> <span class="keyword">force</span> <span class="number">5</span>
<span class="number">002</span>:<span class="number">10</span> red headquarter was taken
</code></pre><h2 id="失敗代碼">失敗代碼</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Info {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">static</span> <span class="keyword">int</span> M, N, R, K, T;</div><div class="line">		<span class="keyword">static</span> <span class="stl_container"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;</span> HP, ATK;</div><div class="line">		<span class="keyword">static</span> <span class="built_in">string</span> Mkind[];</div><div class="line">		<span class="keyword">static</span> <span class="built_in">string</span> Rkind[];</div><div class="line">		<span class="keyword">static</span> <span class="built_in">string</span> Bkind[];</div><div class="line">};</div><div class="line"><span class="keyword">int</span> Info::M = <span class="number">0</span>, Info::N = <span class="number">0</span>, Info::R = <span class="number">0</span>, Info::K = <span class="number">0</span>, Info::T = <span class="number">0</span>;</div><div class="line"><span class="stl_container"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;</span> Info::HP, Info::ATK;</div><div class="line"><span class="built_in">string</span> Info::Mkind[] = {<span class="string">"dragon"</span>, <span class="string">"ninja"</span>, <span class="string">"iceman"</span>, <span class="string">"lion"</span>, <span class="string">"wolf"</span>};</div><div class="line"><span class="built_in">string</span> Info::Rkind[] = {<span class="string">"dragon"</span>, <span class="string">"iceman"</span>, <span class="string">"lion"</span>, <span class="string">"wolf"</span>, <span class="string">"ninja"</span>};</div><div class="line"><span class="built_in">string</span> Info::Bkind[] = {<span class="string">"wolf"</span>, <span class="string">"lion"</span>, <span class="string">"dragon"</span>, <span class="string">"ninja"</span>, <span class="string">"iceman"</span>};</div><div class="line"></div><div class="line"><span class="keyword">class</span> Weapon {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">void</span> show() {};</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> getMeleeAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		};</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> actMeleeAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		}; </div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> getRangeAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> actRangeAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> getBombAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">virtual</span> <span class="keyword">int</span> actBombAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		}</div><div class="line">};</div><div class="line"><span class="keyword">class</span> Sword: <span class="keyword">public</span> Weapon {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">int</span> attack;</div><div class="line">		Sword(<span class="keyword">int</span> _attack): attack(_attack) {</div><div class="line">			</div><div class="line">		}</div><div class="line">		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">			<span class="keyword">return</span> attack;</div><div class="line">		}</div><div class="line">		<span class="keyword">int</span> actMeleeAttack() {</div><div class="line">			attack = attack * <span class="number">8</span> / <span class="number">10</span>;</div><div class="line">			<span class="keyword">return</span> attack &gt; <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">void</span> show() {</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"sword(%d)"</span>, attack);</div><div class="line">		}</div><div class="line">};</div><div class="line"><span class="keyword">class</span> Arrow: <span class="keyword">public</span> Weapon {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">int</span> R, usedTime;</div><div class="line">		Arrow(<span class="keyword">int</span> _R): R(_R) {</div><div class="line">			usedTime = <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">int</span> getRangeAttack() {</div><div class="line">			<span class="keyword">return</span> usedTime &lt; <span class="number">3</span> ? R : <span class="number">0</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">int</span> actRangeAttack() {</div><div class="line">			usedTime++;</div><div class="line">			<span class="keyword">return</span> usedTime &gt;= <span class="number">3</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">void</span> show() {</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"arrow(%d)"</span>, <span class="number">3</span> - usedTime);</div><div class="line">		}</div><div class="line">};</div><div class="line"><span class="keyword">class</span> Bomb: <span class="keyword">public</span> Weapon {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		Bomb() {</div><div class="line">			</div><div class="line">		}</div><div class="line">		<span class="keyword">int</span> getBombAttack() {</div><div class="line">			<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">void</span> show() {</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"bomb"</span>);</div><div class="line">		}</div><div class="line">};</div><div class="line"><span class="keyword">class</span> WeaponFactory {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">static</span> Weapon* build(<span class="keyword">int</span> n, <span class="keyword">int</span> attack) {</div><div class="line">			<span class="keyword">if</span>(n == <span class="number">0</span>) {</div><div class="line">				<span class="keyword">if</span>(attack / <span class="number">5</span> &lt;= <span class="number">0</span>)</div><div class="line">					<span class="keyword">return</span> NULL;</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Sword(attack/<span class="number">5</span>);</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">2</span>)</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Arrow(Info::R);</div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Bomb();</div><div class="line">		}</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class</span> Warrior {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">  		<span class="keyword">int</span> n;  </div><div class="line">  		<span class="keyword">int</span> life;  </div><div class="line">  		Warrior(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life): n(_n), life(_life) {</div><div class="line">  			</div><div class="line">  		}  </div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> show() {};  </div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> showName() {};  </div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> showWeapon() {};  </div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">int</span> getAttack() {<span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">int</span> getFled() {<span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">int</span> getMeleeAttack() {<span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> actMeleeAttack() {}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">int</span> getBackAttack() {<span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> actBackAttack() {}</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> move() {};</div><div class="line">  		<span class="keyword">virtual</span> <span class="keyword">void</span> actRangeAttack(Warrior* o) {};</div><div class="line">};  </div><div class="line"><span class="keyword">class</span> Dragon: <span class="keyword">public</span> Warrior {  </div><div class="line">	<span class="keyword">public</span>:  </div><div class="line">  		Weapon *weapon;</div><div class="line">  		<span class="keyword">float</span> morale;  </div><div class="line">  		Dragon(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life, <span class="keyword">float</span> _morale): Warrior(_n, _life), morale(_morale) {</div><div class="line">    		weapon = WeaponFactory::build(n%<span class="number">3</span>, Info::ATK[<span class="string">"dragon"</span>]);</div><div class="line">  		}  </div><div class="line">  		<span class="keyword">void</span> show() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"dragon %d born\n"</span>, n);</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"Its morale is %.2f\n"</span>, morale);</div><div class="line">  		}  </div><div class="line">  		<span class="keyword">void</span> showName() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"dragon %d"</span>, n);</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">void</span> showWeapon() {</div><div class="line">			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">				weapon-&gt;show();</div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="built_in">printf</span>(<span class="string">"no weapon"</span>);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getAttack() {</div><div class="line">  			<span class="keyword">return</span> Info::ATK[<span class="string">"dragon"</span>];</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">  				m = weapon-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack() + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getBackAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">  				m = weapon-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack()/<span class="number">2</span> + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actMeleeAttack() {</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL) {</div><div class="line">  				<span class="keyword">int</span> f = weapon-&gt;actMeleeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">0</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon;</div><div class="line">  					weapon = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actBackAttack() {</div><div class="line">  			actMeleeAttack();</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actRangeAttack(Warrior* o) {</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL) {</div><div class="line">  				o-&gt;life -= weapon-&gt;getRangeAttack();</div><div class="line">  				<span class="keyword">int</span> f = weapon-&gt;actRangeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">1</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon;</div><div class="line">  					weapon = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">		}</div><div class="line">};  </div><div class="line"><span class="keyword">class</span> Ninja: <span class="keyword">public</span> Warrior {  </div><div class="line">	<span class="keyword">public</span>:  </div><div class="line">		Weapon *weapon[<span class="number">2</span>];  </div><div class="line">		Ninja(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life): Warrior(_n, _life) {</div><div class="line">    		weapon[<span class="number">0</span>] = WeaponFactory::build(n%<span class="number">3</span>, Info::ATK[<span class="string">"ninja"</span>]);</div><div class="line">    		weapon[<span class="number">1</span>] = WeaponFactory::build((n+<span class="number">1</span>)%<span class="number">3</span>, Info::ATK[<span class="string">"ninja"</span>]);</div><div class="line">	  	}  </div><div class="line">  		<span class="keyword">void</span> show() {  </div><div class="line">    		<span class="built_in">printf</span>(<span class="string">"ninja %d born\n"</span>, n);</div><div class="line">  		}  </div><div class="line">		<span class="keyword">void</span> showName() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"ninja %d"</span>, n);</div><div class="line">  		}		</div><div class="line">		<span class="keyword">void</span> showWeapon() {</div><div class="line">			<span class="keyword">int</span> f1 = n%<span class="number">3</span>, f2 = (n+<span class="number">1</span>)%<span class="number">3</span>, f = <span class="number">0</span>;</div><div class="line">			<span class="keyword">if</span>(f1 &lt; f2) {</div><div class="line">				<span class="keyword">if</span>(weapon[<span class="number">0</span>] != NULL)</div><div class="line">					weapon[<span class="number">0</span>]-&gt;show(), f++;</div><div class="line">				<span class="keyword">if</span>(f)	<span class="built_in">putchar</span>(<span class="string">','</span>);</div><div class="line">				<span class="keyword">if</span>(weapon[<span class="number">1</span>] != NULL)</div><div class="line">					weapon[<span class="number">1</span>]-&gt;show(), f++;</div><div class="line">			} <span class="keyword">else</span> {</div><div class="line">				<span class="keyword">if</span>(weapon[<span class="number">1</span>] != NULL)</div><div class="line">					weapon[<span class="number">1</span>]-&gt;show(), f++;</div><div class="line">				<span class="keyword">if</span>(f)	<span class="built_in">putchar</span>(<span class="string">','</span>);</div><div class="line">				<span class="keyword">if</span>(weapon[<span class="number">0</span>] != NULL)</div><div class="line">					weapon[<span class="number">0</span>]-&gt;show(), f++;</div><div class="line">			}</div><div class="line">			<span class="keyword">if</span>(f == <span class="number">0</span>)</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"no weapon"</span>);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getAttack() {</div><div class="line">  			<span class="keyword">return</span> Info::ATK[<span class="string">"ninja"</span>];</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">0</span>] != NULL)</div><div class="line">  				m += weapon[<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">1</span>] != NULL)</div><div class="line">  				m += weapon[<span class="number">1</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack() + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getBackAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">0</span>] != NULL)</div><div class="line">  				m += weapon[<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">1</span>] != NULL)</div><div class="line">  				m += weapon[<span class="number">1</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack()/<span class="number">2</span> + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actMeleeAttack() {</div><div class="line">			<span class="keyword">if</span>(weapon[<span class="number">0</span>] != NULL) {</div><div class="line">  				<span class="keyword">int</span> f = weapon[<span class="number">0</span>]-&gt;actMeleeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">0</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon[<span class="number">0</span>];</div><div class="line">  					weapon[<span class="number">0</span>] = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">1</span>] != NULL) {</div><div class="line">  				<span class="keyword">int</span> f = weapon[<span class="number">1</span>]-&gt;actMeleeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">0</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon[<span class="number">1</span>];</div><div class="line">  					weapon[<span class="number">1</span>] = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actBackAttack() {</div><div class="line">  			actMeleeAttack();</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actRangeAttack(Warrior* o) {</div><div class="line">  			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {</div><div class="line">  				<span class="keyword">if</span>(weapon[i] != NULL) {</div><div class="line">  					o-&gt;life -= weapon[i]-&gt;getRangeAttack();</div><div class="line">  					<span class="keyword">int</span> f = weapon[i]-&gt;actRangeAttack();</div><div class="line">  					<span class="keyword">if</span>(f == <span class="number">1</span>)</div><div class="line">  						weapon[i] = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">		}</div><div class="line">};  </div><div class="line">  </div><div class="line"><span class="keyword">class</span> Iceman: <span class="keyword">public</span> Warrior {  </div><div class="line">	<span class="keyword">public</span>:  </div><div class="line">  		Weapon *weapon;</div><div class="line">  		<span class="keyword">int</span> move_count;</div><div class="line">  		<span class="keyword">int</span> attack;</div><div class="line">  		Iceman(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life): Warrior(_n, _life) {</div><div class="line">    		weapon = WeaponFactory::build(n%<span class="number">3</span>, Info::ATK[<span class="string">"iceman"</span>]);</div><div class="line">    		move_count = <span class="number">0</span>;</div><div class="line">    		attack = Info::ATK[<span class="string">"iceman"</span>];</div><div class="line">  		}  </div><div class="line">  		<span class="keyword">void</span> show(){  </div><div class="line">    		<span class="built_in">printf</span>(<span class="string">"iceman %d born\n"</span>, n);</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">void</span> showName() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"iceman %d"</span>, n);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> showWeapon() {</div><div class="line">			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">				weapon-&gt;show();</div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="built_in">printf</span>(<span class="string">"no weapon"</span>);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getAttack() {</div><div class="line">  			<span class="keyword">return</span> attack;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">  				m = weapon-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack() + m;</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">int</span> getBackAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL)</div><div class="line">  				m = weapon-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack()/<span class="number">2</span> + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actMeleeAttack() {</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL) {</div><div class="line">  				<span class="keyword">int</span> f = weapon-&gt;actMeleeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">0</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon;</div><div class="line">  					weapon = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actBackAttack() {</div><div class="line">  			actMeleeAttack();</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actRangeAttack(Warrior* o) {</div><div class="line">  			<span class="keyword">if</span>(weapon != NULL) {</div><div class="line">  				o-&gt;life -= weapon-&gt;getRangeAttack();</div><div class="line">  				<span class="keyword">int</span> f = weapon-&gt;actRangeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">1</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon;</div><div class="line">  					weapon = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">		}</div><div class="line">  		<span class="keyword">void</span> move() {</div><div class="line">  			move_count++;</div><div class="line">  			<span class="keyword">if</span>(move_count == <span class="number">2</span>) {</div><div class="line">  				attack += <span class="number">20</span>;</div><div class="line">  				life -= <span class="number">9</span>;</div><div class="line">  				<span class="keyword">if</span>(life &lt;= <span class="number">0</span>)</div><div class="line">  					life = <span class="number">1</span>;</div><div class="line">  				move_count = <span class="number">0</span>;</div><div class="line">  			}</div><div class="line">  		}</div><div class="line">};  </div><div class="line"><span class="keyword">class</span> Lion: <span class="keyword">public</span> Warrior {  </div><div class="line">	<span class="keyword">public</span>:  </div><div class="line">  		<span class="keyword">int</span> loyalty;  </div><div class="line">  		Lion(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life, <span class="keyword">int</span> _loyalty): Warrior(_n, _life), loyalty(_loyalty) { </div><div class="line">  		}  </div><div class="line">  		<span class="keyword">void</span> show() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"lion %d born\n"</span>, n);</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"Its loyalty is %d\n"</span>, loyalty);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> showName() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"lion %d"</span>, n);</div><div class="line">  		}	</div><div class="line">		<span class="keyword">void</span> showWeapon() {</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"no weapon"</span>);</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getAttack() {</div><div class="line">  			<span class="keyword">return</span> Info::ATK[<span class="string">"lion"</span>];</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">  			<span class="keyword">return</span> getAttack();</div><div class="line">  		}		</div><div class="line">		<span class="keyword">int</span> getBackAttack() {</div><div class="line">  			<span class="keyword">return</span> getAttack()/<span class="number">2</span>;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">int</span> getFled() {</div><div class="line">  			<span class="keyword">return</span> loyalty &lt;= <span class="number">0</span>;</div><div class="line">  		}</div><div class="line">};  </div><div class="line"><span class="keyword">class</span> Wolf: <span class="keyword">public</span> Warrior {  </div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		Weapon *weapon[<span class="number">3</span>];</div><div class="line">  		Wolf(<span class="keyword">int</span> _n, <span class="keyword">int</span> _life): Warrior(_n, _life) {</div><div class="line">  			weapon[<span class="number">0</span>] = weapon[<span class="number">1</span>] = weapon[<span class="number">2</span>] = NULL;</div><div class="line">		} </div><div class="line">  		<span class="keyword">void</span> show() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"wolf %d born\n"</span>, n);</div><div class="line">		} </div><div class="line">		<span class="keyword">void</span> showName() {</div><div class="line">  			<span class="built_in">printf</span>(<span class="string">"wolf %d"</span>, n);</div><div class="line">  		}</div><div class="line">		<span class="keyword">void</span> showWeapon() {</div><div class="line">			<span class="keyword">int</span> f = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</div><div class="line">				<span class="keyword">if</span>(weapon[i] != NULL) {</div><div class="line">					<span class="keyword">if</span>(f)	<span class="built_in">putchar</span>(<span class="string">','</span>);</div><div class="line">					weapon[i]-&gt;show(), f++;</div><div class="line">				}</div><div class="line">			}</div><div class="line">			<span class="keyword">if</span>(f == <span class="number">0</span>)</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"no weapon"</span>);</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">int</span> getAttack() {</div><div class="line">  			<span class="keyword">return</span> Info::ATK[<span class="string">"wolf"</span>];</div><div class="line">  		}  		</div><div class="line">		<span class="keyword">int</span> getMeleeAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">2</span>] != NULL)</div><div class="line">  				m = weapon[<span class="number">2</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack() + m;</div><div class="line">  		}</div><div class="line">		<span class="keyword">int</span> getBackAttack() {</div><div class="line">  			<span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">2</span>] != NULL)</div><div class="line">  				m = weapon[<span class="number">2</span>]-&gt;getMeleeAttack();</div><div class="line">  			<span class="keyword">return</span> getAttack()/<span class="number">2</span> + m;</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actMeleeAttack() {</div><div class="line">			<span class="keyword">if</span>(weapon[<span class="number">2</span>] != NULL) {</div><div class="line">  				<span class="keyword">int</span> f = weapon[<span class="number">2</span>]-&gt;actMeleeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">0</span>) {</div><div class="line">  					<span class="keyword">delete</span> weapon[<span class="number">2</span>];</div><div class="line">  					weapon[<span class="number">2</span>] = NULL;</div><div class="line">  				}</div><div class="line">  			}</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actBackAttack() {</div><div class="line">  			actMeleeAttack();</div><div class="line">  		}</div><div class="line">  		<span class="keyword">void</span> actRangeAttack(Warrior* o) {</div><div class="line">  			<span class="keyword">if</span>(weapon[<span class="number">2</span>] != NULL) {</div><div class="line">  				o-&gt;life -= weapon[<span class="number">2</span>]-&gt;getRangeAttack();</div><div class="line">  				<span class="keyword">int</span> f = weapon[<span class="number">2</span>]-&gt;actRangeAttack();</div><div class="line">  				<span class="keyword">if</span>(f == <span class="number">1</span>)</div><div class="line">  					weapon[<span class="number">2</span>] = NULL;</div><div class="line">  			}</div><div class="line">		}</div><div class="line">};</div><div class="line"><span class="keyword">class</span> WarriorFactory {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">static</span> Warrior* build(<span class="built_in">string</span> kind, <span class="keyword">int</span> n, <span class="keyword">float</span> _morale, <span class="keyword">int</span> _loyalty) {</div><div class="line">			<span class="keyword">if</span>(!<span class="built_in">strcmp</span>(kind.c_str(), <span class="string">"dragon"</span>))</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Dragon(n, Info::HP[kind], _morale);</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(kind.c_str(), <span class="string">"ninja"</span>))</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Ninja(n, Info::HP[kind]);</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(kind.c_str(), <span class="string">"iceman"</span>))</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Iceman(n, Info::HP[kind]);</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(kind.c_str(), <span class="string">"lion"</span>))</div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Lion(n, Info::HP[kind], _loyalty);</div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Wolf(n, Info::HP[kind]);				</div><div class="line">		}</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class</span> Headquarter {</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		<span class="keyword">int</span> HP;</div><div class="line">		<span class="keyword">int</span> dir;</div><div class="line">		<span class="keyword">int</span> n;</div><div class="line">		Headquarter(<span class="keyword">int</span> _HP, <span class="keyword">int</span> _dir): HP(_HP), dir(_dir) {</div><div class="line">			n = <span class="number">1</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">void</span> produce(<span class="stl_container"><span class="built_in">vector</span>&lt;Warrior*&gt;</span> R[], <span class="stl_container"><span class="built_in">vector</span>&lt;Warrior*&gt;</span> B[], <span class="keyword">int</span> hh, <span class="keyword">int</span> mm) {</div><div class="line">			<span class="built_in">string</span> kind;</div><div class="line">			<span class="keyword">int</span> born_cost;</div><div class="line">			<span class="keyword">if</span>(dir == <span class="number">1</span>) { <span class="comment">// RED</span></div><div class="line">				kind = Info::Rkind[n % <span class="number">5</span>];</div><div class="line">			} <span class="keyword">else</span> { <span class="comment">// BLUE</span></div><div class="line">				kind = Info::Bkind[n % <span class="number">5</span>];</div><div class="line">			}</div><div class="line">			born_cost = Info::HP[kind];</div><div class="line">			<span class="keyword">if</span>(born_cost &gt; HP)</div><div class="line">				<span class="keyword">return</span>;</div><div class="line">			HP -= born_cost;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%03d:%02d %s "</span>, hh, mm, dir == <span class="number">1</span> ? <span class="string">"red"</span> : <span class="string">"blue"</span>);</div><div class="line">			Warrior *w = WarriorFactory::build(kind, n, (<span class="keyword">double</span>) HP/ Info::HP[kind], HP);</div><div class="line">			w-&gt;show();</div><div class="line">			<span class="keyword">if</span>(dir == <span class="number">1</span>) { <span class="comment">// RED</span></div><div class="line">				R[<span class="number">0</span>].push_back(w);</div><div class="line">			} <span class="keyword">else</span> {</div><div class="line">				B[Info::N + <span class="number">1</span>].push_back(w);</div><div class="line">			}</div><div class="line">			n++;</div><div class="line">		}</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">void</span> simulate() {</div><div class="line">	Headquarter RED(Info::M, <span class="number">1</span>), BLUE(Info::M, -<span class="number">1</span>);</div><div class="line">	<span class="keyword">int</span> timescale[] = {<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">55</span>};</div><div class="line">	<span class="stl_container"><span class="built_in">vector</span>&lt;Warrior*&gt;</span> R[Info::N + <span class="number">2</span>], B[Info::N + <span class="number">2</span>];</div><div class="line">	<span class="keyword">int</span> cityHP[Info::N+<span class="number">2</span>], cityFlag[Info::N+<span class="number">2</span>], cityBattle[Info::N+<span class="number">2</span>];</div><div class="line">	<span class="comment">// cityFlag[], cityBattle[], NONE: 0, RED: 1, BLUE: 2 </span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++)</div><div class="line">		cityHP[i] = cityFlag[i] = cityBattle[i] = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> hour = <span class="number">0</span>; ; hour++) {</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</div><div class="line">			<span class="keyword">if</span>(hour * <span class="number">60</span> + timescale[i] &gt; Info::T)</div><div class="line">				<span class="keyword">return</span>;</div><div class="line">			<span class="keyword">int</span> t = timescale[i];</div><div class="line">			<span class="keyword">if</span>(t == <span class="number">0</span>) { <span class="comment">// fixed</span></div><div class="line">				RED.produce(R, B, hour, t);</div><div class="line">				BLUE.produce(R, B, hour, t);</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">5</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span>) {</div><div class="line">						<span class="keyword">if</span>(R[i][<span class="number">0</span>]-&gt;getFled()) {</div><div class="line">							<span class="built_in">printf</span>(<span class="string">"%03d:%02d red "</span>, hour, t);</div><div class="line">							R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" ran away\n"</span>);</div><div class="line">							R[i].clear();</div><div class="line">						}</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N+<span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(B[i].size() &gt; <span class="number">0</span>) {</div><div class="line">						<span class="keyword">if</span>(B[i][<span class="number">0</span>]-&gt;getFled()) {</div><div class="line">							<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue "</span>, hour, t);</div><div class="line">							B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" ran away\n"</span>);</div><div class="line">							B[i].clear();</div><div class="line">						}</div><div class="line">					}</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">10</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span> &amp;&amp; i &lt;= Info::N) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d red "</span>, hour, t);</div><div class="line">						R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						R[i][<span class="number">0</span>]-&gt;move();</div><div class="line">						<span class="keyword">if</span>(i + <span class="number">1</span> &lt; Info::N + <span class="number">1</span>)</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" marched to city %d with %d elements and force %d\n"</span>, i + <span class="number">1</span>, R[i][<span class="number">0</span>]-&gt;life, R[i][<span class="number">0</span>]-&gt;getAttack());</div><div class="line">						<span class="keyword">else</span></div><div class="line">							<span class="built_in">printf</span>(<span class="string">" reached blue headquarter with %d elements and force %d\n"</span>, R[i][<span class="number">0</span>]-&gt;life, R[i][<span class="number">0</span>]-&gt;getAttack());</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(B[i].size() &gt; <span class="number">0</span> &amp;&amp; i &gt; <span class="number">0</span>) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue "</span>, hour, t);</div><div class="line">						B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						B[i][<span class="number">0</span>]-&gt;move();</div><div class="line">						<span class="keyword">if</span>(i - <span class="number">1</span> &gt; <span class="number">0</span>)</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" marched to city %d with %d elements and force %d\n"</span>, i - <span class="number">1</span>, B[i][<span class="number">0</span>]-&gt;life, B[i][<span class="number">0</span>]-&gt;getAttack());</div><div class="line">						<span class="keyword">else</span></div><div class="line">							<span class="built_in">printf</span>(<span class="string">" reached red headquarter with %d elements and force %d\n"</span>, B[i][<span class="number">0</span>]-&gt;life, B[i][<span class="number">0</span>]-&gt;getAttack());</div><div class="line">				</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = Info::N; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span>) {</div><div class="line">						R[i+<span class="number">1</span>].push_back(R[i][<span class="number">0</span>]);</div><div class="line">						R[i].clear();</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(B[i].size() &gt; <span class="number">0</span>)	 {</div><div class="line">						B[i-<span class="number">1</span>].push_back(B[i][<span class="number">0</span>]);</div><div class="line">						B[i].clear();</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">if</span>(B[<span class="number">0</span>].size() &gt;= <span class="number">2</span>) {</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%03d:%02d red headquarter was taken\n"</span>, hour, t);</div><div class="line">					<span class="keyword">return</span> ;</div><div class="line">				}</div><div class="line">				<span class="keyword">if</span>(R[Info::N+<span class="number">1</span>].size() &gt;= <span class="number">2</span>) {</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue headquarter was taken\n"</span>, hour, t);</div><div class="line">					<span class="keyword">return</span> ;</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">20</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N; i++)</div><div class="line">					cityHP[i] += <span class="number">10</span>;</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">30</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() == <span class="number">1</span> &amp;&amp; B[i].size() == <span class="number">0</span>) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d red "</span>, hour, t);</div><div class="line">						R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						<span class="built_in">printf</span>(<span class="string">" earned %d elements for his headquarter\n"</span>, cityHP[i]);</div><div class="line">						RED.HP += cityHP[i], cityHP[i] = <span class="number">0</span>;</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(R[i].size() == <span class="number">0</span> &amp;&amp; B[i].size() == <span class="number">1</span>) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue "</span>, hour, t);</div><div class="line">						B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						<span class="built_in">printf</span>(<span class="string">" earned %d elements for his headquarter\n"</span>, cityHP[i]);</div><div class="line">						BLUE.HP += cityHP[i], cityHP[i] = <span class="number">0</span>;</div><div class="line">					}</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">35</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span> &amp;&amp; B[i+<span class="number">1</span>].size() &gt; <span class="number">0</span>) {</div><div class="line">						R[i][<span class="number">0</span>]-&gt;actRangeAttack(B[i+<span class="number">1</span>][<span class="number">0</span>]);</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(B[i].size() &gt; <span class="number">0</span> &amp;&amp; R[i-<span class="number">1</span>].size() &gt; <span class="number">0</span>) {</div><div class="line">						B[i][<span class="number">0</span>]-&gt;actRangeAttack(R[i-<span class="number">1</span>][<span class="number">0</span>]);</div><div class="line">					}</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">38</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span> &amp;&amp; B[i].size() &gt; <span class="number">0</span>) {</div><div class="line">						<span class="keyword">int</span> rATK = R[i][<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">						<span class="keyword">int</span> bATK = B[i][<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">						<span class="keyword">if</span>(bATK &gt;= R[i][<span class="number">0</span>]-&gt;life) {</div><div class="line">							<span class="built_in">printf</span>(<span class="string">"%03d:%02d red "</span>, hour, t);</div><div class="line">							R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" used a bomb and killed blue "</span>);;</div><div class="line">							B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">						}</div><div class="line">						<span class="keyword">if</span>(rATK &gt;= B[i][<span class="number">0</span>]-&gt;life) {</div><div class="line">							<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue "</span>, hour, t);</div><div class="line">							B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">printf</span>(<span class="string">" used a bomb and killed red "</span>);;</div><div class="line">							R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">							<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">						}</div><div class="line">						<span class="keyword">if</span>(bATK &gt;= R[i][<span class="number">0</span>]-&gt;life || rATK &gt;= B[i][<span class="number">0</span>]-&gt;life) {</div><div class="line">							<span class="keyword">delete</span> R[i][<span class="number">0</span>];</div><div class="line">							R[i].clear();</div><div class="line">							<span class="keyword">delete</span> B[i][<span class="number">0</span>];</div><div class="line">							B[i].clear();</div><div class="line">						}</div><div class="line">					}</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">40</span>) {</div><div class="line">				<span class="keyword">int</span> RB[Info::N+<span class="number">2</span>];</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N; i++) {</div><div class="line">					RB[i] = <span class="number">0</span>;</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Info::N; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span> &amp;&amp; B[i].size() &gt; <span class="number">0</span>) {</div><div class="line">						<span class="keyword">if</span>(R[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span> || B[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span>) {</div><div class="line">							</div><div class="line">						} <span class="keyword">else</span> {</div><div class="line">							<span class="keyword">if</span>(cityFlag[i] == <span class="number">1</span> || (cityFlag[i] == <span class="number">0</span> &amp;&amp; i%<span class="number">2</span> == <span class="number">1</span>)) {</div><div class="line">								<span class="keyword">int</span> AT = R[i][<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">								B[i][<span class="number">0</span>]-&gt;life -= AT;</div><div class="line">								<span class="keyword">if</span>(B[i][<span class="number">0</span>]-&gt;life &gt; <span class="number">0</span>) {</div><div class="line">									<span class="keyword">int</span> BAT = B[i][<span class="number">0</span>]-&gt;getBackAttack();</div><div class="line">									R[i][<span class="number">0</span>]-&gt;life -= AT;</div><div class="line">								}</div><div class="line">							} <span class="keyword">else</span> {</div><div class="line">								<span class="keyword">int</span> AT = B[i][<span class="number">0</span>]-&gt;getMeleeAttack();</div><div class="line">								R[i][<span class="number">0</span>]-&gt;life -= AT;</div><div class="line">								<span class="keyword">if</span>(R[i][<span class="number">0</span>]-&gt;life &gt; <span class="number">0</span>) {</div><div class="line">									<span class="keyword">int</span> BAT = R[i][<span class="number">0</span>]-&gt;getBackAttack();</div><div class="line">									B[i][<span class="number">0</span>]-&gt;life -= AT;</div><div class="line">								}</div><div class="line">							}</div><div class="line">						}</div><div class="line">						<span class="keyword">if</span>(R[i][<span class="number">0</span>]-&gt;life &gt; <span class="number">0</span> &amp;&amp; B[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span>) { </div><div class="line">							RB[i] = <span class="number">1</span>;</div><div class="line">							<span class="keyword">if</span>(cityBattle[i] == <span class="number">1</span>) {</div><div class="line">								cityFlag[i] = <span class="number">1</span>;</div><div class="line">							} <span class="keyword">else</span> <span class="keyword">if</span>(cityBattle[i] == <span class="number">0</span>) {</div><div class="line">								cityBattle[i] = <span class="number">1</span>;</div><div class="line">							}</div><div class="line">						} </div><div class="line">						<span class="keyword">if</span>(B[i][<span class="number">0</span>]-&gt;life &gt; <span class="number">0</span> &amp;&amp; R[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span>) {</div><div class="line">							RB[i] = <span class="number">2</span>;							</div><div class="line">							<span class="keyword">if</span>(cityBattle[i] == <span class="number">2</span>) {</div><div class="line">								cityFlag[i] = <span class="number">2</span>;</div><div class="line">							} <span class="keyword">else</span> <span class="keyword">if</span>(cityBattle[i] == <span class="number">0</span>) {</div><div class="line">								cityBattle[i] = <span class="number">2</span>;</div><div class="line">							}</div><div class="line">						}</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(R[i].size() &gt; <span class="number">0</span> &amp;&amp; R[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span>) {</div><div class="line">						<span class="keyword">delete</span> R[i][<span class="number">0</span>];</div><div class="line">						R[i].clear();</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(B[i].size() &gt; <span class="number">0</span> &amp;&amp; B[i][<span class="number">0</span>]-&gt;life &lt;= <span class="number">0</span>) {</div><div class="line">						<span class="keyword">delete</span> B[i][<span class="number">0</span>];</div><div class="line">						B[i].clear();</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = Info::N + <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">					<span class="keyword">if</span>(RED.HP &gt;= <span class="number">8</span> &amp;&amp; RB[i] == <span class="number">1</span>) {</div><div class="line">						RED.HP -= <span class="number">8</span>;</div><div class="line">						R[i][<span class="number">0</span>]-&gt;life += <span class="number">8</span>;</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(BLUE.HP &gt;= <span class="number">8</span> &amp;&amp; RB[i] == <span class="number">2</span>) {</div><div class="line">						BLUE.HP -= <span class="number">8</span>;</div><div class="line">						B[i][<span class="number">0</span>]-&gt;life += <span class="number">8</span>;</div><div class="line">					}</div><div class="line">				}</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(RB[i] == <span class="number">1</span>) {</div><div class="line">						RED.HP += cityHP[i];</div><div class="line">						cityHP[i] = <span class="number">0</span>;</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(RB[i] == <span class="number">2</span>) {</div><div class="line">						BLUE.HP += cityHP[i];</div><div class="line">						cityHP[i] = <span class="number">0</span>;</div><div class="line">					}</div><div class="line">				}</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">50</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%03d:%02d %d elements in red headquarter\n"</span>, hour, t, RED.HP);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%03d:%02d %d elements in blue headquarter\n"</span>, hour, t, BLUE.HP);</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">55</span>) { <span class="comment">// fixed</span></div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Info::N + <span class="number">1</span>; i++) {</div><div class="line">					<span class="keyword">if</span>(R[i].size() == <span class="number">1</span>) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d red "</span>, hour, t);</div><div class="line">						R[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						<span class="built_in">printf</span>(<span class="string">" has "</span>);</div><div class="line">						R[i][<span class="number">0</span>]-&gt;showWeapon();</div><div class="line">						<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">					}</div><div class="line">					<span class="keyword">if</span>(B[i].size() == <span class="number">1</span>) {</div><div class="line">						<span class="built_in">printf</span>(<span class="string">"%03d:%02d blue "</span>, hour, t);</div><div class="line">						B[i][<span class="number">0</span>]-&gt;showName();</div><div class="line">						<span class="built_in">printf</span>(<span class="string">" has "</span>);</div><div class="line">						B[i][<span class="number">0</span>]-&gt;showWeapon();</div><div class="line">						<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">					}</div><div class="line">				}</div><div class="line">			}</div><div class="line">		}</div><div class="line">	}</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {  	</div><div class="line">	freopen(<span class="string">"in.txt"</span>, <span class="string">"r+t"</span>, stdin);</div><div class="line">	freopen(<span class="string">"out-my.txt"</span>, <span class="string">"w+t"</span>, stdout); </div><div class="line">	<span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase); </div><div class="line">	<span class="keyword">while</span>(testcase--) {</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %d"</span>, &amp;Info::M, &amp;Info::N, &amp;Info::R, &amp;Info::K, &amp;Info::T);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Info::HP[Info::Mkind[i]]);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Info::ATK[Info::Mkind[i]]);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>, ++cases);</div><div class="line">		simulate();</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/other/mooc-week9-dex" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/22/oj/other/mooc-week9-dex/" class="article-date">
  <time datetime="2014-04-22T12:31:29.000Z" itemprop="datePublished">Apr 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/22/oj/other/mooc-week9-dex/">程序设计实习 MOOC Week 9 DEX</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-dex/" data-id="x33pbjsrknpklvz4" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-dex/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-list/">std-list</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-set/">std-set</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="接續上一篇">接續上一篇</h1>
<h1 id="D_-_热血格斗场">D - 热血格斗场</h1>
<h2 id="題目">題目</h2>
<p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>为了迎接<span class="number">08</span>年的奥运会，让大家更加了解各种格斗运动，facer新开了一家热血格斗场。格斗场实行会员制，但是新来的会员不需要交入会费，而只要同一名老会员打一场表演赛，证明自己的实力。

我们假设格斗的实力可以用一个正整数表示，成为实力值。另外，每个人都有一个唯一的<span class="keyword">id</span>，也是一个正整数。为了使得比赛更好看，每一个新队员都会选择与他实力最为接近的人比赛，即比赛双方的实力值之差的绝对值越小越好，如果有两个人的实力值与他差别相同，则他会选择比他弱的那个（显然，虐人必被虐好）。

不幸的是，Facer一不小心把比赛记录弄丢了，但是他还保留着会员的注册记录。现在请你帮facer恢复比赛纪录，按照时间顺序依次输出每场比赛双方的<span class="keyword">id</span>。
</code></pre><p>输入</p>
<pre><code>第一行一个数n(<span class="number">0</span> &lt; n &lt;=<span class="number">100000</span>)，表示格斗场新来的会员数（不包括facer）。以后n行每一行两个数，按照入会的时间给出会员的<span class="keyword">id</span>和实力值。一开始，facer就算是会员，<span class="keyword">id</span>为<span class="number">1</span>，实力值<span class="number">1000000000</span>。输入保证两人的实力值不同。
</code></pre><p>输出</p>
<pre><code>N行，每行两个数，为每场比赛双方的<span class="keyword">id</span>，新手的<span class="keyword">id</span>写在前面。
</code></pre><p>样例输入</p>
<pre><code>3
2 1
3 3
4 2
</code></pre><p>样例输出</p>
<pre><code>2 1
3 2
4 2
</code></pre><h2 id="解法">解法</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;set&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> oo 0x3f3f3f3f</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> n, id, power; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) {</div><div class="line">		<span class="stl_container"><span class="built_in">set</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span> &gt; S;</div><div class="line">		S.insert(make_pair(<span class="number">1000000000</span>, <span class="number">1</span>));</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)	 {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;power);</div><div class="line">			S.insert(make_pair(power, id));</div><div class="line">			<span class="stl_container"><span class="built_in">set</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span> &gt;::iterator it;</div><div class="line">			it = S.find(make_pair(power, id));</div><div class="line">			pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; f1, f2;</div><div class="line">			f1 = make_pair(-oo, <span class="number">0</span>);</div><div class="line">			f2 = make_pair(oo, <span class="number">0</span>);</div><div class="line">			<span class="keyword">if</span>(it != S.begin()) {</div><div class="line">				it--;</div><div class="line">				f1 = *it;</div><div class="line">				it++;</div><div class="line">			}</div><div class="line">			<span class="keyword">if</span>(it != S.end()) {</div><div class="line">				it++;</div><div class="line">				f2 = *it;</div><div class="line">				it--;</div><div class="line">			}</div><div class="line">			<span class="keyword">if</span>(<span class="built_in">abs</span>(f2.first - power) &lt; <span class="built_in">abs</span>(f1.first - power))</div><div class="line">				f1 = f2;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, id, f1.second);</div><div class="line">		}</div><div class="line">	}	</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h1 id="E_-_priority_queue练习题">E - priority queue练习题</h1>
<h2 id="題目-1">題目</h2>
<p>总时间限制: 2500ms    内存限制: 131072kB</p>
<p>描述</p>
<pre><code>我们定义一个正整数a比正整数b优先的含义是：
<span class="keyword">*</span>a的质因数数目（不包括自身）比b的质因数数目多；
<span class="keyword">*</span>当两者质因数数目相等时，数值较大者优先级高。

现在给定一个容器，初始元素数目为0，之后每次往里面添加10个元素，每次添加之后，要求输出优先级最高与最低的元素，并把该两元素从容器中删除。
</code></pre><p>输入</p>
<pre><code>第一行: <span class="built_in">num</span> (添加元素次数，<span class="built_in">num</span> &lt;= <span class="number">30</span>)

下面<span class="number">10</span>*<span class="built_in">num</span>行，每行一个正整数n（n &lt; <span class="number">10000000</span>).
</code></pre><p>输出</p>
<pre><code>每次输入10个整数后，输出容器中优先级最高与最低的元素，两者用空格间隔。
</code></pre><p>样例输入</p>
<pre><code>1
10 7 66 4 5 30 91 100 8 9
</code></pre><p>样例输出</p>
<pre><code>66 5
</code></pre><h2 id="解法-1">解法</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;set&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> getPF(<span class="keyword">int</span> n) {</div><div class="line">	<span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++) {</div><div class="line">		<span class="keyword">if</span>(n%i == <span class="number">0</span>) {</div><div class="line">			<span class="keyword">while</span>(n /= i, n%i == <span class="number">0</span>);</div><div class="line">			ret++;</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">if</span>(n != <span class="number">1</span> &amp;&amp; ret &gt; <span class="number">0</span>)	ret++;</div><div class="line">	<span class="keyword">return</span> ret;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) {</div><div class="line">		<span class="stl_container"><span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span> &gt; S;</div><div class="line">		<span class="keyword">while</span>(n--) {</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, x; i &lt; <span class="number">10</span>; i++) {</div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				S.insert(make_pair(getPF(x), x));</div><div class="line">			}			</div><div class="line">			<span class="stl_container"><span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span> &gt;::iterator it;</div><div class="line">			<span class="stl_container"><span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span> &gt;::iterator jt;</div><div class="line">			it = S.begin();</div><div class="line">			jt = S.end();</div><div class="line">			jt--;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, (*jt).second, (*it).second);</div><div class="line">			S.erase(it);</div><div class="line">			S.erase(jt);</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h1 id="X_-_思考题最后一题，不计分，供测试">X - 思考题最后一题，不计分，供测试</h1>
<h2 id="題目-2">題目</h2>
<p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>请补齐下面程序，使得补齐后的程序，对于下面指定的输入数据，能产生指定的输出。
</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="keyword">class</span> CMyistream_iterator</div><div class="line">{</div></pre></td></tr></table></figure>

<p>// 在此处补充你的代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">int</span> main()  </div><div class="line">{ </div><div class="line">	 </div><div class="line">	 <span class="keyword">int</span> t;</div><div class="line">	 <span class="built_in">cin</span> &gt;&gt; t;</div><div class="line">	 <span class="keyword">while</span> (t--) {</div><div class="line">	 	 CMyistream_iterator&lt;<span class="keyword">int</span>&gt; inputInt(<span class="built_in">cin</span>);</div><div class="line">		 <span class="keyword">int</span> n1,n2,n3;</div><div class="line">		 n1 = * inputInt;</div><div class="line">		 <span class="keyword">int</span> tmp = * inputInt; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt; endl;</div><div class="line">		 inputInt ++;   </div><div class="line">		 n2 = * inputInt; </div><div class="line">		 inputInt ++;   </div><div class="line">		 n3 = * inputInt; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; n1 &lt;&lt; <span class="string">","</span> &lt;&lt; n2&lt;&lt; <span class="string">","</span> &lt;&lt; n3 &lt;&lt; <span class="string">","</span>;</div><div class="line">		 CMyistream_iterator&lt;<span class="built_in">string</span>&gt; inputStr(<span class="built_in">cin</span>);</div><div class="line">		 <span class="built_in">string</span> s1,s2;</div><div class="line">		 s1 = * inputStr; </div><div class="line">		 inputStr ++;     </div><div class="line">		 s2 = * inputStr; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; s1 &lt;&lt; <span class="string">","</span> &lt;&lt; s2 &lt;&lt; endl;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">}</div></pre></td></tr></table></figure>

<p>输入</p>
<pre><code>第一行是整数t,表示有t组数据。
每组数据由三个整数和两个字符串组成。整数都是小于220的正整数，字符串中间没有空格
</code></pre><p>输出</p>
<pre><code>对每组输入数据，输出两行。
第一行是输入的第一个整数。
第二行依次输出输入的各项，用逗号<span class="string">","</span>分隔。
</code></pre><p>样例输入</p>
<pre><code><span class="number">2</span>
<span class="number">79</span> <span class="number">90</span> <span class="number">20</span> hello <span class="keyword">me</span>
<span class="number">21</span> <span class="number">375</span> <span class="number">45</span> Jack good
</code></pre><p>样例输出</p>
<pre><code><span class="number">79</span>
<span class="number">79</span>,<span class="number">90</span>,<span class="number">20</span>,hello,<span class="keyword">me</span>
<span class="number">21</span>
<span class="number">21</span>,<span class="number">375</span>,<span class="number">45</span>,Jack,good
</code></pre><h2 id="解法-2">解法</h2>
<p>這裡要特別小心串流處理，這裡仍是用指針去維護。</p>
<p>Pointer Type(*) 和 Reference Type(&amp;) 使用上也要明白差別。</p>
<ul>
<li><p>假使宣告 <code>istream &amp;mcin;</code><br>  一定要用 <code>CMyistream_iterator(istream&amp; m): mcin(m)</code>    搭配 <code>mcin &gt;&gt; front</code></p>
<ul>
<li><p>為什麼 <code>mcin = m</code> 不能取代 <code>mcin(m)</code> ?<br>  雖然我不太明白，但是 Reference Type 一定要在宣告的時候就決定取的位址，也就是說 mcin 再也不能跟動對應的位址，與指標不同的地方就在這裡。</p>
<p>  通常會這個寫來降低複雜度 <code>int&amp; ret = MAP[index];</code> 其中 <code>ret</code> 再也不能更動位址，當然也許再 C++11 之後的版本會有所不同。</p>
</li>
</ul>
</li>
<li><p>假使宣告 <code>istream *mcin;</code><br>  彈性就很大，但使用時都要用 <code>*mcin &gt;&gt; front</code></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="keyword">class</span> CMyistream_iterator</div><div class="line">{</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">		CMyistream_iterator(istream&amp; m): mcin(&amp;m) {</div><div class="line">			*mcin &gt;&gt; front;</div><div class="line">		}</div><div class="line">		<span class="keyword">void</span> <span class="keyword">operator</span> ++(<span class="keyword">int</span>) {</div><div class="line">			*mcin &gt;&gt; front;</div><div class="line">		}</div><div class="line">		T <span class="keyword">operator</span> * () {</div><div class="line">			<span class="keyword">return</span> front;</div><div class="line">		}</div><div class="line">	<span class="keyword">private</span>:</div><div class="line">		istream *mcin;</div><div class="line">		T front;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">int</span> main()  </div><div class="line">{ </div><div class="line">	 </div><div class="line">	 <span class="keyword">int</span> t;</div><div class="line">	 <span class="built_in">cin</span> &gt;&gt; t;</div><div class="line">	 <span class="keyword">while</span> (t--) {</div><div class="line">	 	 CMyistream_iterator&lt;<span class="keyword">int</span>&gt; inputInt(<span class="built_in">cin</span>);</div><div class="line">		 <span class="keyword">int</span> n1,n2,n3;</div><div class="line">		 n1 = * inputInt;</div><div class="line">		 <span class="keyword">int</span> tmp = * inputInt; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt; endl;</div><div class="line">		 inputInt ++;   </div><div class="line">		 n2 = * inputInt; </div><div class="line">		 inputInt ++;   </div><div class="line">		 n3 = * inputInt; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; n1 &lt;&lt; <span class="string">","</span> &lt;&lt; n2&lt;&lt; <span class="string">","</span> &lt;&lt; n3 &lt;&lt; <span class="string">","</span>;</div><div class="line">		 CMyistream_iterator&lt;<span class="built_in">string</span>&gt; inputStr(<span class="built_in">cin</span>);</div><div class="line">		 <span class="built_in">string</span> s1,s2;</div><div class="line">		 s1 = * inputStr; </div><div class="line">		 inputStr ++;     </div><div class="line">		 s2 = * inputStr; </div><div class="line">		 <span class="built_in">cout</span> &lt;&lt; s1 &lt;&lt; <span class="string">","</span> &lt;&lt; s2 &lt;&lt; endl;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">}</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/other/mooc-week9-abc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/22/oj/other/mooc-week9-abc/" class="article-date">
  <time datetime="2014-04-22T12:31:29.000Z" itemprop="datePublished">Apr 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/22/oj/other/mooc-week9-abc/">程序设计实习 MOOC Week 9 ABC</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-abc/" data-id="mhb1wx06a3l6s018" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-abc/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-list/">std-list</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-set/">std-set</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="關於這一周">關於這一周</h1>
<p>練習 STL 的語法。 <a href="http://cxsjsxmooc.openjudge.cn/" target="_blank" rel="external">題目來源</a></p>
<p>好久沒有練 C++ 程序，這是一個訓練 STL 的題單。</p>
<h2 id="練習項目">練習項目</h2>
<h3 id="std::list">std::list</h3>
<ul>
<li><code>list.merge(other_list)</code><br>  將 other_list 內容搬運到 list 後，other_list 清空。</li>
<li><code>list.sort()</code><br>  不依賴 std::sort, 自己內部有一個 sort()。</li>
<li><code>list.unique()</code><br>  跟另外一套的有點相似，一樣是要在排序後才能運行當作去重複。</li>
</ul>
<h3 id="std::set_&amp;_std::multiset">std::set &amp; std::multiset</h3>
<ul>
<li><code>insert()</code></li>
<li><code>find()</code><br>  查找，後回傳 set&lt;&gt;::iterator 的型態。</li>
<li><code>set&lt;&gt;::iterator</code><br>  <code>begin()</code> 和 <code>end()</code> 的型態。</li>
<li><code>set&lt;&gt;::reverse_iterator</code><br>  <code>rbegin()</code> 和 <code>rend()</code> 的型態。</li>
<li><code>erase()</code><br>  特別小心這個，傳入如果是 iterator 的話，就只會刪除單一元素，如果對於 multiset 來說，傳入一般的值(不是迭代器指針) 則會將所有相同的都刪除。</li>
</ul>
<h3 id="std::string">std::string</h3>
<ul>
<li><code>find(str [, start_pos])</code><br>  正向搜索 str 這個字串從 start_pos 開始算起。</li>
<li><code>rfind()</code><br>  逆向搜索 str 這個字串。</li>
<li><code>substr(start_post, sub_length)</code><br>  從某個位置開始，截出一段長度。</li>
</ul>
<h1 id="A_-_List">A - List</h1>
<h2 id="題目">題目</h2>
<p>总时间限制: 4000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>写一个程序完成以下命令：
new <span class="keyword">id</span> ——新建一个指定编号为<span class="keyword">id</span>的序列(<span class="keyword">id</span>&lt;<span class="number">10000</span>)
add <span class="keyword">id</span> num——向编号为<span class="keyword">id</span>的序列加入整数num
merge id1 id2——合并序列id1和id2中的数，并将id2清空
unique <span class="keyword">id</span>——去掉序列<span class="keyword">id</span>中重复的元素
<span class="keyword">out</span> <span class="keyword">id</span> ——从小到大输出编号为<span class="keyword">id</span>的序列中的元素，以空格隔开
</code></pre><p>输入</p>
<pre><code><span class="attribute">第一行一个数n，表示有多少个命令( n &lt;</span>=<span class="string"> 200000)。以后 n 行每行一个命令。</span>
</code></pre><p>输出</p>
<pre><code>按题目要求输出。
</code></pre><p>样例输入</p>
<pre><code><span class="number">16</span>
<span class="keyword">new</span> <span class="number">1</span>
<span class="keyword">new</span> <span class="number">2</span>
<span class="keyword">add</span> <span class="number">1</span> <span class="number">1</span>
<span class="keyword">add</span> <span class="number">1</span> <span class="number">2</span>
<span class="keyword">add</span> <span class="number">1</span> <span class="number">3</span>
<span class="keyword">add</span> <span class="number">2</span> <span class="number">1</span>
<span class="keyword">add</span> <span class="number">2</span> <span class="number">2</span>
<span class="keyword">add</span> <span class="number">2</span> <span class="number">3</span>
<span class="keyword">add</span> <span class="number">2</span> <span class="number">4</span>
<span class="keyword">out</span> <span class="number">1</span>
<span class="keyword">out</span> <span class="number">2</span>
merge <span class="number">1</span> <span class="number">2</span>
<span class="keyword">out</span> <span class="number">1</span>
<span class="keyword">out</span> <span class="number">2</span>
unique <span class="number">1</span>
<span class="keyword">out</span> <span class="number">1</span>
</code></pre><p>样例输出</p>
<pre><code>1 2 3 
1 2 3 4
1 1 2 2 3 3 4

1 2 3 4
</code></pre><h2 id="解法">解法</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;list&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>; )  {</div><div class="line">		<span class="keyword">char</span> cmd[<span class="number">10</span>];</div><div class="line">		<span class="keyword">int</span> id, num, aid;</div><div class="line">		<span class="stl_container"><span class="built_in">map</span>&lt; <span class="keyword">int</span>, <span class="stl_container"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;</span> &gt;</span> S;</div><div class="line">		<span class="keyword">while</span>(n--) {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, cmd);</div><div class="line">			<span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'n'</span>) { <span class="comment">// new</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">				S[id] = <span class="stl_container"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;</span>();</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span>) { <span class="comment">// add</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;num);</div><div class="line">				S[id].push_back(num);</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'m'</span>) { <span class="comment">// merge</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;aid);</div><div class="line">				S[id].merge(S[aid]);</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'u'</span>) { <span class="comment">// unique</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">				S[id].sort();</div><div class="line">				S[id].unique();</div><div class="line">			} <span class="keyword">else</span> { <span class="comment">// out</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">				S[id].sort();</div><div class="line">				<span class="stl_container"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;</span>::iterator it, jt;</div><div class="line">				it = S[id].begin(), jt = S[id].end();</div><div class="line">				<span class="keyword">int</span> f = <span class="number">0</span>;</div><div class="line">				<span class="keyword">for</span>(; it != jt; it++) {</div><div class="line">					<span class="keyword">if</span>(f)	<span class="built_in">putchar</span>(<span class="string">' '</span>);</div><div class="line">					f = <span class="number">1</span>;</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%d"</span>, *it);</div><div class="line">				}</div><div class="line">				<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">			}</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h1 id="B_-_Set">B - Set</h1>
<h2 id="題目-1">題目</h2>
<p>总时间限制: 5000ms    内存限制: 100000kB</p>
<p>描述</p>
<pre><code>现有一整数集（允许有重复元素），初始为空。我们定义如下操作：
<span class="built_in">add</span> <span class="keyword">x</span> 把<span class="keyword">x</span>加入集合
del <span class="keyword">x</span> 把集合中所有与<span class="keyword">x</span>相等的元素删除
ask <span class="keyword">x</span> 对集合中元素<span class="keyword">x</span>的情况询问
对每种操作，我们要求进行如下输出。
<span class="built_in">add</span> 输出操作后集合中<span class="keyword">x</span>的个数
del 输出操作前集合中<span class="keyword">x</span>的个数
ask 先输出<span class="number">0</span>或<span class="number">1</span>表示<span class="keyword">x</span>是否曾被加入集合（<span class="number">0</span>表示不曾加入），再输出当前集合中<span class="keyword">x</span>的个数，中间用空格格开。
</code></pre><p>输入</p>
<pre><code><span class="attribute">第一行是一个整数n，表示命令数。0&lt;</span>=<span class="string">n&lt;=100000。
后面n行命令，如Description中所述。</span>
</code></pre><p>输出</p>
<pre><code>共n行，每行按要求输出。
</code></pre><p>样例输入</p>
<pre><code><span class="number">7</span>
<span class="built_in">add</span> <span class="number">1</span>
<span class="built_in">add</span> <span class="number">1</span>
ask <span class="number">1</span>
ask <span class="number">2</span>
del <span class="number">2</span>
del <span class="number">1</span>
ask <span class="number">1</span>
</code></pre><p>样例输出</p>
<pre><code>1
2
1 2
0 0
0
2
1 0
</code></pre><h2 id="解法-1">解法</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;set&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> n, x; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) {</div><div class="line">		<span class="keyword">char</span> cmd[<span class="number">10</span>];</div><div class="line">		<span class="stl_container"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt;</span> S;</div><div class="line">		<span class="stl_container"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;</span> I;</div><div class="line">		<span class="keyword">while</span>(n--) {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, cmd);</div><div class="line">			<span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span> &amp;&amp; cmd[<span class="number">1</span>] == <span class="string">'d'</span>) { <span class="comment">// add</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				I.insert(x);</div><div class="line">				S.insert(x);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S.count(x));</div><div class="line">			} <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span> &amp;&amp; cmd[<span class="number">1</span>] == <span class="string">'s'</span>) { <span class="comment">// ask</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, I.find(x) != I.end(), S.count(x));</div><div class="line">			} <span class="keyword">else</span> { <span class="comment">// del</span></div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S.count(x));</div><div class="line">				S.erase(x);</div><div class="line">			}</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h1 id="C_-_字符串操作">C - 字符串操作</h1>
<h2 id="題目-2">題目</h2>
<p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>给定n个字符串（从<span class="number">1</span>开始编号），每个字符串中的字符位置从<span class="number">0</span>开始编号，长度为<span class="number">1</span>-<span class="number">500</span>，现有如下若干操作：

    copy <span class="keyword">N</span> X L：取出第<span class="keyword">N</span>个字符串第X个字符开始的长度为L的字符串。
    add S1 S2：判断S1，S2是否为<span class="number">0</span>-<span class="number">99999</span>之间的整数，若是则将其转化为整数做加法，若不是，则作字符串加法，返回的值为一字符串。
    find S <span class="keyword">N</span>：在第<span class="keyword">N</span>个字符串中从左开始找寻S字符串，返回其第一次出现的位置，若没有找到，返回字符串的长度。
    rfind S <span class="keyword">N</span>：在第<span class="keyword">N</span>个字符串中从右开始找寻S字符串，返回其第一次出现的位置，若没有找到，返回字符串的长度。
    insert S <span class="keyword">N</span> X：在第<span class="keyword">N</span>个字符串的第X个字符位置中插入S字符串。
    reset S <span class="keyword">N</span>：将第<span class="keyword">N</span>个字符串变为S。
    print <span class="keyword">N</span>：打印输出第<span class="keyword">N</span>个字符串。
    printall：打印输出所有字符串。
    over：结束操作。

其中<span class="keyword">N</span>，X，L可由find与rfind操作表达式构成，S，S1，S2可由copy与add操作表达式构成。
</code></pre><p>输入</p>
<pre><code>第一行为一个整数n（n在<span class="number">1</span>-<span class="number">20</span>之间）

接下来n行为n个字符串，字符串不包含空格及操作命令等。

接下来若干行为一系列操作，直到<span class="keyword">over</span>结束。
</code></pre><p>输出</p>
<pre><code>根据操作提示输出对应字符串。
</code></pre><p>样例输入</p>
<pre><code><span class="number">3</span>
<span class="number">329</span>strjvc
Opadfk48
Ifjoqwoqejr
<span class="built_in">insert</span> <span class="built_in">copy</span> <span class="number">1</span> <span class="keyword">find</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span>
<span class="keyword">print</span> <span class="number">2</span>
reset <span class="built_in">add</span> <span class="built_in">copy</span> <span class="number">1</span> <span class="keyword">find</span> <span class="number">3</span> <span class="number">1</span> <span class="number">3</span> <span class="built_in">copy</span> <span class="number">2</span> <span class="keyword">find</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span>
<span class="keyword">print</span> <span class="number">3</span>
<span class="built_in">insert</span> <span class="keyword">a</span> <span class="number">3</span> <span class="number">2</span>
printall
over
</code></pre><p>样例输出</p>
<pre><code><span class="title">Op29adfk48</span>
<span class="number">358</span>
329strjvc
Op29adfk48
35a8
</code></pre><h2 id="解法-2">解法</h2>
<p>這一題算是裡面最繁瑣的一題，一部分是因為其輸入的規則需要遞歸分析。<br>而為了實現遞歸分析，需要可以偷看輸入的下一個 token，因此先把每一個 token 切出來放在 queue 裏頭。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;sstream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;queue&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;ctype.h&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">char</span> s[<span class="number">32</span>][<span class="number">512</span>], lineStr[<span class="number">1024</span>];</div><div class="line"><span class="built_in">string</span> str[<span class="number">32</span>];</div><div class="line"><span class="keyword">int</span> strSize;</div><div class="line"><span class="stl_container"><span class="built_in">queue</span>&lt;<span class="built_in">string</span>&gt;</span> tokenQ;</div><div class="line"><span class="keyword">int</span> str2num(<span class="built_in">string</span> s) {</div><div class="line">	<span class="keyword">return</span> atoi(s.c_str());</div><div class="line">}</div><div class="line"><span class="built_in">string</span> num2str(<span class="keyword">int</span> n) {</div><div class="line">  	<span class="built_in">string</span> s;</div><div class="line">  	<span class="built_in">stringstream</span> ss(s);</div><div class="line">  	ss &lt;&lt; n;</div><div class="line">	<span class="keyword">return</span> ss.str();</div><div class="line">}</div><div class="line"><span class="keyword">int</span> isValidNum(<span class="built_in">string</span> s) {</div><div class="line">	<span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</div><div class="line">		<span class="keyword">if</span>(!<span class="built_in">isdigit</span>(s[i]))</div><div class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">		ret = ret * <span class="number">10</span> + s[i] - <span class="string">'0'</span>;</div><div class="line">		<span class="keyword">if</span>(ret &gt; <span class="number">99999</span>)</div><div class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> ret;</div><div class="line">}</div><div class="line"><span class="built_in">string</span> parsing() {</div><div class="line">	<span class="built_in">string</span> p = tokenQ.front();</div><div class="line">	tokenQ.pop();</div><div class="line">	<span class="keyword">if</span>(p == <span class="string">"copy"</span>)  {</div><div class="line">		<span class="built_in">string</span> N, X, L;</div><div class="line">		<span class="keyword">int</span> n, x, l;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			X = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			X = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			L = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			L = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N), x = str2num(X), l = str2num(L);</div><div class="line">		</div><div class="line">		<span class="keyword">return</span> str[n].substr(x, l);</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"add"</span>) {</div><div class="line">		<span class="built_in">string</span> S1, S2;</div><div class="line">		<span class="keyword">int</span> s1, s2;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S1 = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S1 = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S2 = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S2 = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		s1 = isValidNum(S1), s2 = isValidNum(S2);</div><div class="line">		<span class="keyword">if</span>(s1 &lt; <span class="number">0</span> || s2 &lt; <span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> S1 + S2;</div><div class="line">		<span class="keyword">else</span></div><div class="line">			<span class="keyword">return</span> num2str(s1 + s2);</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"find"</span>) {</div><div class="line">		<span class="built_in">string</span> S, N;</div><div class="line">		<span class="keyword">int</span> s, n;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N);</div><div class="line">		<span class="keyword">int</span> pos = str[n].find(S);</div><div class="line">		</div><div class="line">		<span class="keyword">if</span>(pos != string::npos) {</div><div class="line">			<span class="keyword">return</span> num2str(pos);</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="keyword">return</span> num2str(str[n].length());</div><div class="line">		}</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"rfind"</span>) {</div><div class="line">		<span class="built_in">string</span> S, N;</div><div class="line">		<span class="keyword">int</span> s, n;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N);</div><div class="line">		<span class="keyword">int</span> pos = str[n].rfind(S);</div><div class="line">		<span class="keyword">if</span>(pos != string::npos) {</div><div class="line">			<span class="keyword">return</span> num2str(pos);</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="keyword">return</span> num2str(str[n].length());</div><div class="line">		}</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"insert"</span>) {</div><div class="line">		<span class="built_in">string</span> S, N, X;</div><div class="line">		<span class="keyword">int</span> s, n, x;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			X = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			X = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N), x = str2num(X);</div><div class="line">		str[n].insert(x, S);</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"reset"</span>) {</div><div class="line">		<span class="built_in">string</span> S, N, X;</div><div class="line">		<span class="keyword">int</span> s, n, x;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) {</div><div class="line">			S = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			S = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N);</div><div class="line">		str[n] = S;</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"print"</span>) {</div><div class="line">		<span class="built_in">string</span> S, N, X;</div><div class="line">		<span class="keyword">int</span> s, n, x;</div><div class="line">		<span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) {</div><div class="line">			N = parsing();</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			N = tokenQ.front(), tokenQ.pop();</div><div class="line">		}</div><div class="line">		n = str2num(N);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str[n].c_str());</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"printall"</span>) {</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= strSize; i++)</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str[i].c_str());</div><div class="line">	} <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"over"</span>) {</div><div class="line">		</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) {</div><div class="line">		<span class="keyword">int</span> N, X, L, S1, S2, S;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s[i]);</div><div class="line">			str[i] = s[i];</div><div class="line">		}</div><div class="line">		strSize = n;</div><div class="line">		<span class="keyword">while</span>(getchar() != <span class="string">'\n'</span>);</div><div class="line">		<span class="keyword">while</span>(gets(lineStr)) {</div><div class="line">			<span class="built_in">stringstream</span> <span class="built_in">sin</span>(lineStr);</div><div class="line">			<span class="built_in">string</span> token;</div><div class="line">			<span class="keyword">while</span>(<span class="built_in">sin</span> &gt;&gt; token)</div><div class="line">				tokenQ.push(token);</div><div class="line">			parsing();</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a962" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a962/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">Apr 18 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a962/">a962. 新專輯</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a962/" data-id="xg608lftsqr6a5kd" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a962/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/數學/">數學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆元/">逆元</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目">題目</h1>
<h2 id="內容：">內容：</h2>
<p>給定正整數N，請求出(N除以1的餘數)+(N除以2的餘數)+(N除以3的餘數)+…+(N除以N的餘數)。  </p>
<h2 id="輸入說明：">輸入說明：</h2>
<p>輸入只有一個正整數N，其中1&lt;=N&lt;=1014。</p>
<h2 id="輸出說明：">輸出說明：</h2>
<p>為了避免要寫大數，你只要輸出這個奇怪的和除以1000000009的餘數就好了。</p>
<h2 id="範例輸入：">範例輸入：</h2>
<pre><code>10
</code></pre><h2 id="範例輸出：">範例輸出：</h2>
<pre><code>13
</code></pre><hr>
<h1 id="解法">解法</h1>
<ul>
<li>作法：<br>  各種方式要避免 mod 運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a962.cpp </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a962 "新專輯" from TIOJ 1674                                      */</span></div><div class="line"><span class="comment">/*  Language: CPP (1612 Bytes)                                                    */</span></div><div class="line"><span class="comment">/*  Result: AC(0.8s, 272KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 20:11:19                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MOD 1000000009LL</span></div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> inv(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="keyword">long</span> <span class="keyword">long</span> m) { <span class="comment">// get n*? = 1 (mod m)</span></div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> la = <span class="number">1</span>, lb = <span class="number">0</span>, ra = <span class="number">0</span>, rb = <span class="number">1</span>;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">0</span>, t, mod = m;</div><div class="line">    <span class="keyword">while</span>(n%m) {</div><div class="line">        <span class="keyword">if</span>(!i) {</div><div class="line">            la -= n/m*ra;</div><div class="line">            lb -= n/m*rb;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            ra -= n/m*la;</div><div class="line">            rb -= n/m*lb;</div><div class="line">        }</div><div class="line">        i = !i;</div><div class="line">        t = n, n = m, m = t%m;</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span>(i)</div><div class="line">        <span class="keyword">return</span> (la%mod+mod)%mod;</div><div class="line">    <span class="keyword">return</span> (ra%mod+mod)%mod;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> inv2 = inv(<span class="number">2</span>, MOD);</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;n) == <span class="number">1</span>) {</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>, hret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> half = (<span class="keyword">long</span> <span class="keyword">long</span>)<span class="built_in">sqrt</span>(n)/<span class="number">5</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> u = -<span class="number">1</span>, v = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(half = <span class="number">1</span>; u != v; half++, u = v, v = n/half) {</div><div class="line">            hret += n%half;</div><div class="line">        }</div><div class="line">        hret -= n%(half - <span class="number">1</span>);</div><div class="line">        hret %= MOD;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> l = half - <span class="number">1</span>, r, div;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> a0, d, tn, buff;</div><div class="line">        <span class="keyword">while</span>(l &lt;= n) {</div><div class="line">            div = n / l;</div><div class="line">            r = n / div;</div><div class="line">            a0 = n % l, d = -div, tn = r - l + <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span>(tn &gt;= MOD)   tn %= MOD;</div><div class="line">            <span class="keyword">if</span>(d &gt;= MOD)    d %= MOD;</div><div class="line">            <span class="keyword">if</span>(a0 &gt;= MOD)   a0 %= MOD;</div><div class="line">            buff = (a0 * <span class="number">2</span> + (tn - <span class="number">1</span>)*d);</div><div class="line">            <span class="keyword">if</span>(buff &lt; <span class="number">0</span> || buff &gt;= MOD) buff %= MOD;</div><div class="line">            buff *= tn;</div><div class="line">            <span class="keyword">if</span>(buff &lt; <span class="number">0</span> || buff &gt;= MOD) buff %= MOD;</div><div class="line">            ret += buff;</div><div class="line">            l = r + <span class="number">1</span>;</div><div class="line">        }</div><div class="line">        ret %= MOD;</div><div class="line">        ret = (ret * inv2)%MOD;</div><div class="line">        ret = (ret + hret + MOD)%MOD;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="comment">/*</span></div><div class="line">100000000000000</div><div class="line">*/</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a858" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a858/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">Apr 18 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a858/">a858. 數三角形</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a858/" data-id="6q8cilpf0czul3d5" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a858/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/排容原理/">排容原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/數三角形/">數三角形</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目">題目</h1>
<h2 id="內容：">內容：</h2>
<p>你有一個大小為N的完全圖，這N(N-1)/2條邊可能是紅色或黑色。任三個不同的點都形成一個三角形，請問三邊同色的三角形有幾個？ </p>
<h2 id="輸入說明：">輸入說明：</h2>
<p>第一行輸入一個正整數N，其中N&lt;=1,000。接下來的N行，每行有N個數字，其中第i行的第j個數字代表邊(i,j)的顏色，紅色用1表示，黑色用2表示，i=j時則用0表示。</p>
<h2 id="輸出說明：">輸出說明：</h2>
<p>請輸出同色三角形的數目。</p>
<h2 id="範例輸入：">範例輸入：</h2>
<pre><code>4
0 1 2 1
1 0 1 1
2 1 0 2
1 1 2 0
</code></pre><h2 id="範例輸出：">範例輸出：</h2>
<pre><code>1
</code></pre><hr>
<h1 id="解法">解法</h1>
<ul>
<li>作法：<br>  分治，將輸入 n 個劃分成兩堆，分別窮舉所有可能，採用合併的方式去運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a858.cpp </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a858 "數三角形" from                                             */</span></div><div class="line"><span class="comment">/*  Language: CPP (462 Bytes)                                                     */</span></div><div class="line"><span class="comment">/*  Result: AC(0.1s, 264KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-17 11:06:20                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">int</span> n, x;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) {</div><div class="line">        <span class="keyword">int</span> p = (n) * (n-<span class="number">1</span>) * (n-<span class="number">2</span>) / <span class="number">6</span>;</div><div class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</div><div class="line">            <span class="keyword">int</span> b = <span class="number">0</span>, r = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                r += x == <span class="number">1</span>;</div><div class="line">                b += x == <span class="number">2</span>;</div><div class="line">            }</div><div class="line">            s += r * b;</div><div class="line">        }</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, p - s/<span class="number">2</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a576" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a576/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">Apr 18 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a576/">a576. No Cheating</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a576/" data-id="6kq5c1yvcpgd3e4x" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a576/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/最大獨立集/">最大獨立集</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目">題目</h1>
<h2 id="內容：">內容：</h2>
<p>有個學校想辦一場考試，提供了 T 間教室。每間教室的座位都是 M×N 的矩陣(不同教室的 M, N 可以不一樣)，而有的座位壞掉了不能坐。此外，為了避免學生作弊，如下圖，對任何一個學生而言，他的左方、左前方、右方、右前方都不可以有人坐。請問每間教室所能容納的學生數最多為何？ </p>
<h2 id="輸入說明：">輸入說明：</h2>
<p>第一行有一個數字 T，代表學校有 T 間教室。接下來會有每個教室的資料，每筆資料會有在同一行兩個正整數 M, N，代表座位的配置是 M×N。接下來的 M 行，每行有 N 個字元，’.’代表那個座位是好的，而’x’則代表那個座位壞了。 </p>
<h2 id="輸出說明：">輸出說明：</h2>
<p>對於每間教室，輸出”Case #X: Y”, 其中 X 代表這是第幾間教室，而 Y 則代表這間教室能容納的學生數最大值。</p>
<h2 id="範例輸入：">範例輸入：</h2>
<pre><code><span class="number">4</span>
<span class="number">2</span> <span class="number">3</span>
<span class="attribute">...</span>
<span class="attribute">...</span>
<span class="number">2</span> <span class="number">3</span>
x<span class="built_in">.</span>x
xxx
<span class="number">2</span> <span class="number">3</span>
x<span class="built_in">.</span>x
x<span class="built_in">.</span>x
<span class="number">10</span> <span class="number">10</span>
<span class="attribute">...</span><span class="built_in">.</span>x<span class="attribute">...</span><span class="built_in">..</span>
<span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.</span>
<span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.</span>
<span class="built_in">..</span>x<span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.</span>
<span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.</span>
x<span class="attribute">...</span>x<span class="built_in">.</span>x<span class="attribute">...</span>
<span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span>x
<span class="attribute">...</span>x<span class="attribute">...</span><span class="attribute">...</span>
<span class="attribute">...</span><span class="attribute">...</span><span class="built_in">..</span>x<span class="built_in">.</span>
<span class="built_in">.</span>x<span class="attribute">...</span>x<span class="attribute">...</span><span class="built_in">.</span>
</code></pre><h2 id="範例輸出：">範例輸出：</h2>
<pre><code><span class="keyword">Case</span> <span class="comment">#1: 4</span>
<span class="keyword">Case</span> <span class="comment">#2: 1</span>
<span class="keyword">Case</span> <span class="comment">#3: 2</span>
<span class="keyword">Case</span> <span class="comment">#4: 46</span>
</code></pre><hr>
<h1 id="解法">解法</h1>
<ul>
<li>作法：<br>  按列黑白染色，會發現不能連的位置恰好可以化成二分圖，求最大獨立集即可。<br>  <strong> 最大獨立集 = 點個數 - 最大匹配數 </strong></li>
</ul>
<figure class="highlight cpp"><figcaption><span>a576.cpp </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a576 "No Cheating" from GCJ 2008 Round 3 C                           */</span></div><div class="line"><span class="comment">/*  Language: CPP (3826 Bytes)                                                    */</span></div><div class="line"><span class="comment">/*  Result: AC(0.1s, 1.2MB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 18:09:46                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;queue&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stack&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;set&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">struct</span> Node {</div><div class="line">    <span class="keyword">int</span> x, y, v;<span class="comment">// x-&gt;y, v</span></div><div class="line">    <span class="keyword">int</span> next;</div><div class="line">} edge[<span class="number">65536</span>];</div><div class="line"><span class="keyword">int</span> e, head[<span class="number">6500</span>], prev[<span class="number">6500</span>], record[<span class="number">6500</span>];</div><div class="line"><span class="keyword">int</span> level[<span class="number">6500</span>], visited[<span class="number">6500</span>];</div><div class="line"><span class="keyword">void</span> addEdge(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> v) {</div><div class="line">    edge[e].x = x, edge[e].y = y, edge[e].v = v;</div><div class="line">    edge[e].next = head[x], head[x] = e++;</div><div class="line">    edge[e].x = y, edge[e].y = x, edge[e].v = <span class="number">0</span>;</div><div class="line">    edge[e].next = head[y], head[y] = e++;</div><div class="line">}</div><div class="line"><span class="keyword">bool</span> buildLevelGraph(<span class="keyword">int</span> s, <span class="keyword">int</span> t) {</div><div class="line">    <span class="built_in">memset</span>(level, <span class="number">0</span>, <span class="keyword">sizeof</span>(level));</div><div class="line">    <span class="stl_container"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;</span> Q;</div><div class="line">    Q.push(s), level[s] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(!Q.empty()) {</div><div class="line">        <span class="keyword">int</span> tn = Q.front();</div><div class="line">        Q.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[tn]; i != -<span class="number">1</span>; i = edge[i].next) {</div><div class="line">            <span class="keyword">int</span> y = edge[i].y;</div><div class="line">            <span class="keyword">if</span>(edge[i].v &gt; <span class="number">0</span> &amp;&amp; level[y] == <span class="number">0</span>) {</div><div class="line">                level[y] = level[tn] + <span class="number">1</span>;</div><div class="line">                Q.push(y);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> level[t] &gt; <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> constructBlockingFlow(<span class="keyword">int</span> s, <span class="keyword">int</span> t) {</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="stl_container"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;</span> stk;</div><div class="line">    <span class="built_in">memset</span>(visited, <span class="number">0</span>, <span class="keyword">sizeof</span>(visited));</div><div class="line">    stk.push(s);</div><div class="line">    <span class="keyword">while</span>(!stk.empty()) {</div><div class="line">        <span class="keyword">int</span> now = stk.top();</div><div class="line">        <span class="keyword">if</span>(now != t) {</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = head[now]; i != -<span class="number">1</span>; i = edge[i].next) {</div><div class="line">                <span class="keyword">int</span> y = edge[i].y;</div><div class="line">                <span class="keyword">if</span>(visited[y] || level[y] != level[now] + <span class="number">1</span>)</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span>(edge[i].v &gt; <span class="number">0</span>) {</div><div class="line">                    stk.push(y), prev[y] = now, record[y] = i;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keyword">if</span>(stk.top() == now)</div><div class="line">                stk.pop(), visited[now] = <span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">int</span> flow = <span class="number">1e+9</span>, bottleneck;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = t; i != s; i = prev[i]) {</div><div class="line">                <span class="keyword">int</span> ri = record[i];</div><div class="line">                flow = min(flow, edge[ri].v);</div><div class="line">            }</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = t; i != s; i = prev[i]) {</div><div class="line">                <span class="keyword">int</span> ri = record[i];</div><div class="line">                edge[ri].v -= flow;</div><div class="line">                edge[ri^<span class="number">1</span>].v += flow;</div><div class="line">                <span class="keyword">if</span>(edge[ri].v == <span class="number">0</span>)</div><div class="line">                    bottleneck = prev[i];</div><div class="line">            }</div><div class="line">            <span class="keyword">while</span>(!stk.empty() &amp;&amp; stk.top() != bottleneck)</div><div class="line">                stk.pop();</div><div class="line">            ret += flow;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> maxflowDinic(<span class="keyword">int</span> s, <span class="keyword">int</span> t) {</div><div class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(buildLevelGraph(s, t))</div><div class="line">        flow += constructBlockingFlow(s, t);</div><div class="line">    <span class="keyword">return</span> flow;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> i, j, k, x, y;</div><div class="line">    <span class="keyword">char</span> g[<span class="number">128</span>][<span class="number">128</span>];</div><div class="line">    <span class="keyword">int</span> id[<span class="number">128</span>][<span class="number">128</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) {</div><div class="line">        e = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(head, -<span class="number">1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, g[i]);</div><div class="line">        <span class="keyword">int</span> ST[<span class="number">2</span>] = {<span class="number">0</span>, <span class="number">0</span>};</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) {</div><div class="line">                <span class="keyword">if</span>(g[i][j] == <span class="string">'.'</span>) {</div><div class="line">                    id[i][j] = ST[j&amp;<span class="number">1</span>]++;</div><div class="line">                } <span class="keyword">else</span> {</div><div class="line">                    id[i][j] = -<span class="number">1</span>;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        } </div><div class="line">        <span class="keyword">int</span> source = ST[<span class="number">0</span>] + ST[<span class="number">1</span>];</div><div class="line">        <span class="keyword">int</span> sink = source + <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ST[<span class="number">0</span>]; i++)</div><div class="line">            addEdge(source, i, <span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ST[<span class="number">1</span>]; i++)</div><div class="line">            addEdge(i + ST[<span class="number">0</span>], sink, <span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> dx[] = {-<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>};</div><div class="line">        <span class="keyword">int</span> dy[] = {-<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>};</div><div class="line">        <span class="keyword">int</span> tx, ty, u, v;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j += <span class="number">2</span>) {</div><div class="line">                <span class="keyword">if</span>(id[i][j] == -<span class="number">1</span>)  </div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                v = id[i][j];</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">6</span>; k++) {</div><div class="line">                    tx = i + dx[k];</div><div class="line">                    ty = j + dy[k];</div><div class="line">                    <span class="keyword">if</span>(tx &lt; <span class="number">0</span> || ty &lt; <span class="number">0</span> || tx &gt;= n || ty &gt;= m)</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                    u = id[tx][ty];</div><div class="line">                    <span class="keyword">if</span>(u == -<span class="number">1</span>)</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                    addEdge(v, u + ST[<span class="number">0</span>], <span class="number">1</span>);</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">int</span> ret = maxflowDinic(source, sink);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, ++cases, ST[<span class="number">0</span>] + ST[<span class="number">1</span>] - ret);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a007" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a007/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">Apr 18 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a007/">a007. 判斷質數</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a007/" data-id="zl4f7is2eqo1i6f4" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a007/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Miller-Rabin-Algorithm/">Miller-Rabin Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/判斷質數/">判斷質數</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目">題目</h1>
<h2 id="內容：">內容：</h2>
<p>請判斷某數是否為質數 </p>
<h2 id="輸入說明：">輸入說明：</h2>
<p>輸入有多組測試資料（以EOF結尾），每組測試資料占一行，只包含一個整數x, 2 ≦ x ≦ 2147483647。</p>
<h2 id="輸出說明：">輸出說明：</h2>
<p>對於每組測試資料，如果輸入的x為質數，則輸出一行「質數」（不含引號）；否則輸出一行「非質數」（不含引號）。詳見範例測試資料。</p>
<h2 id="範例輸入：">範例輸入：</h2>
<pre><code>13
14
</code></pre><h2 id="範例輸出：">範例輸出：</h2>
<pre><code>質數
非質數
</code></pre><hr>
<h1 id="解法">解法</h1>
<ul>
<li>作法：<br>  Miller-Rabin Algorithm</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a007.cpp </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a007 "判斷質數"                                                  */</span></div><div class="line"><span class="comment">/*  Language: CPP (715 Bytes)                                                     */</span></div><div class="line"><span class="comment">/*  Result: AC(0.2s, 224KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 20:25:42                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span>&lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span>&lt;stdlib.h&gt;</span></div><div class="line"><span class="keyword">int</span> Pow(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">int</span> n, <span class="keyword">long</span> <span class="keyword">long</span> mod) {</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> Ans = <span class="number">1</span>, t = x;</div><div class="line">    <span class="keyword">while</span>(n) {</div><div class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>)</div><div class="line">            Ans *= t, Ans %= mod;</div><div class="line">        t *= t, t %= mod, n &gt;&gt;= <span class="number">1</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)Ans;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> JudgePrime(<span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">2</span> || n == <span class="number">3</span>)    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(!(n&amp;<span class="number">1</span>))    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> a, x, flag = <span class="number">1</span>, t;</div><div class="line">    <span class="keyword">for</span>(a = <span class="number">0</span>; a &lt; <span class="number">2</span>; a++) {</div><div class="line">        x = rand()%(n-<span class="number">4</span>)+<span class="number">2</span>;</div><div class="line">        t = Pow(x, n-<span class="number">1</span>, n);</div><div class="line">        <span class="keyword">if</span>(t != <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) {</div><div class="line">        <span class="keyword">if</span>(JudgePrime(n))    <span class="built_in">puts</span>(<span class="string">"質數"</span>);</div><div class="line">        <span class="keyword">else</span>    <span class="built_in">puts</span>(<span class="string">"非質數"</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a981" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/17/oj/zj/a981/" class="article-date">
  <time datetime="2014-04-17T13:20:35.000Z" itemprop="datePublished">Apr 17 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/17/oj/zj/a981/">a981. 求和問題</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/17/oj/zj/a981/" data-id="cgu2bnjcza5h1cpu" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/17/oj/zj/a981/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分治算法/">分治算法</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目">題目</h1>
<h2 id="內容：">內容：</h2>
<p>給你N個正整數, 試求哪幾個之和剛好為M, 印出所有合條件的解, 如有多組解, 請按由小到大的順序印出(格式可參考樣例輸出)</p>
<h2 id="輸入說明：">輸入說明：</h2>
<p>n  m  (1&lt;=n&lt;=30, 1&lt;=m&lt;=100000000) n個正整數, 全部以空格分開 </p>
<h2 id="輸出說明：">輸出說明：</h2>
<ul>
<li>其和剛好等於m的數, 如果有多組解則按由小到大全部印出, 如果無解則印出 <code>-1</code></li>
</ul>
<h2 id="範例輸入：">範例輸入：</h2>
<pre><code>10 100
10 20 40 30 50 80 60 70 5 15
</code></pre><h2 id="範例輸出：">範例輸出：</h2>
<pre><code>5 10 15 20 50
5 10 15 30 40
5 10 15 70
5 15 20 60
5 15 30 50
5 15 80
10 20 30 40
10 20 70
10 30 60
10 40 50
20 30 50
20 80
30 70
40 60
</code></pre><hr>
<h1 id="解法">解法</h1>
<ul>
<li>作法：<br>  分治，將輸入 n 個劃分成兩堆，分別窮舉所有可能，採用合併的方式去運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a981.cpp </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;set&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> n, m;</div><div class="line">	<span class="keyword">int</span> A[<span class="number">35</span>];</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) == <span class="number">2</span>) {</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]);</div><div class="line">		sort(A, A + n, greater&lt;<span class="keyword">int</span>&gt;());</div><div class="line">		<span class="keyword">int</span> h1Cnt = n / <span class="number">2</span>, h2Cnt = n - h1Cnt;</div><div class="line">		<span class="stl_container"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span> &gt;</span> h1, h2;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="number">1</span>&lt;&lt;h1Cnt)-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">			<span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h1Cnt; j++) {</div><div class="line">				<span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)	sum += A[j];</div><div class="line">			}</div><div class="line">			h1[sum].push_back(i);</div><div class="line">		}</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="number">1</span>&lt;&lt;h2Cnt)-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">			<span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h2Cnt; j++) {</div><div class="line">				<span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)	sum += A[j + h1Cnt];</div><div class="line">			}</div><div class="line">			h2[sum].push_back(i&lt;&lt;h1Cnt);</div><div class="line">		}</div><div class="line">		<span class="stl_container"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;</span> ret;</div><div class="line">		<span class="keyword">for</span>(<span class="stl_container"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span> &gt;</span>::iterator it = h1.begin();</div><div class="line">			it != h1.end(); it++) {</div><div class="line">			<span class="keyword">long</span> <span class="keyword">long</span> f = (<span class="keyword">long</span> <span class="keyword">long</span>)m - it-&gt;first;</div><div class="line">			<span class="stl_container"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span> &gt;</span>::iterator jt = h2.find(f);</div><div class="line">			<span class="keyword">if</span>(jt != h2.end()) {</div><div class="line">				<span class="keyword">for</span>(<span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span>::iterator iv = it-&gt;second.begin();</div><div class="line">					iv != it-&gt;second.end(); iv++) {</div><div class="line">					<span class="keyword">for</span>(<span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span>::iterator jv = jt-&gt;second.begin();</div><div class="line">						jv != jt-&gt;second.end(); jv++) {</div><div class="line">						ret.insert(*iv| *jv);</div><div class="line">					}</div><div class="line">				}</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span>(ret.size() == <span class="number">0</span>)</div><div class="line">			<span class="built_in">puts</span>(<span class="string">"-1"</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="stl_container"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;</span>::reverse_iterator it = ret.rbegin();</div><div class="line">			it != ret.rend(); it++) {</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">				<span class="keyword">if</span>(((*it)&gt;&gt;i)&amp;<span class="number">1</span>) {</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%d "</span>, A[i]);</div><div class="line">				}</div><div class="line">			}</div><div class="line">			<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/17/test/" class="article-date">
  <time datetime="2014-04-17T11:35:27.000Z" itemprop="datePublished">Apr 17 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/出題解題/">出題解題</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/17/test/">Scarky 您的博客線上檢測系統</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/17/test/" data-id="npwm3xzv43zko5ju" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/17/test/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ACM/">ACM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Judge/">Judge</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scarky/">Scarky</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="Scarky_提供線上出程式題目的平台">Scarky 提供線上出程式題目的平台</h1>
<script type="text/javascript" src="http://scarky.com/widget/get/PNFCQOY5/"></script>

<blockquote>
<p>出了一道好题目却不知道该怎样投递到各大OJ上？现在不用担心这个问题了，因为你可以直接把自己的Blog变成一个OJ。Scarky是一个建立在SPOJ系统上的OJ平台。所不同的是，任何人无需注册便可以编写自己的题目并发在自己的网站上与网友分享，并且网友们提交答案时也不需要进行注册。这个网站的功能还在不断扩充中，但目前就Programming Challenge模块看来，这个网站已经很强大了。以后我有了好题目就用这种方式和大家分享了，这里先试用一下，题目来源好像是某次USACO月赛。</p>
</blockquote>
<p><a href="http://www.matrix67.com/blog/archives/2241" target="_blank" rel="external">matrix67 的說明</a><br><a href="http://www.scarky.com/" target="_blank" rel="external">Scarky 網址點我</a></p>
<h2 id="創建題目">創建題目</h2>
<ul>
<li>點進網站，點選創建自己的題目，您將會看到下圖的訊息，記得要求它寄封題目鏈結到你的信箱。這些題目內容稍後還能修改。<br><img class="lazy" data-original="/img/scarky5.PNG" alt="scarky5.png"></li>
<li>在信封中，將會收到編輯頁面鏈結。<br><img class="lazy" data-original="/img/scarky3.PNG" alt="scarky3.png"></li>
<li>回到編輯頁面，將可以把輸入輸出測資放上去，最後按儲存訊息即可。<br>  基本上這裡都採用嚴格比對，也就是多空白多換行字符都是不行的。<br><img class="lazy" data-original="/img/scarky2.PNG" alt="scarky2.png"></li>
<li>編輯者還能看到目前的統計資料。為什麼身為管理者看不到別人上傳的代碼，這不科學。<br><img class="lazy" data-original="/img/scarky4.PNG" alt="scarky4.png"></li>
<li>放上博客有三種方式。<br><img class="lazy" data-original="/img/scarky1.png" alt="scarky1.png"></li>
</ul>
<h2 id="使用心得">使用心得</h2>
<ul>
<li>正如上方的題目，編輯頁面要打 HTML，這點不科學也不方便。</li>
<li>頁面顯示上就是固定，大小無法更動。</li>
<li>題目生存期限有多久？曾經放著一年前的題目還在。</li>
<li>HTML 打好放上去，編輯時從曾經打過的 <code>&lt;br/&gt;</code> 會消失。</li>
<li>最後附上簡單的測試。<pre><code>  <span class="variable">&lt;strong&gt;</span>題目描述<span class="variable">&lt;/strong&gt;</span><span class="variable">&lt;br/&gt;</span><span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;p&gt;</span>
          請將 NFA 轉換成 DFA，不用進行最佳化。
      <span class="variable">&lt;/p&gt;</span><span class="variable">&lt;br/&gt;</span>
  <span class="variable">&lt;strong&gt;</span>輸入描述<span class="variable">&lt;/strong&gt;</span><span class="variable">&lt;br/&gt;</span><span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;p&gt;</span>
          輸入只會有一筆 NFA 描述，輸入以 EOF(end-of-file) 為結尾。
          <span class="variable">&lt;br/&gt;</span><span class="variable">&lt;br/&gt;</span>
          略 ...
      <span class="variable">&lt;/p&gt;</span><span class="variable">&lt;br/&gt;</span>
  <span class="variable">&lt;strong&gt;</span>輸出格式<span class="variable">&lt;/strong&gt;</span><span class="variable">&lt;br/&gt;</span><span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;p&gt;</span>
      輸出對於每一組 DFA，格式如下。<span class="variable">&lt;br/&gt;</span>
      輸出第一行為字母集 CDFA (按照字典順序輸出)。<span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;br/&gt;</span>
      略 ...
      <span class="variable">&lt;/p&gt;</span><span class="variable">&lt;br/&gt;</span>
  <span class="variable">&lt;strong&gt;</span>Example Input :<span class="variable">&lt;/strong&gt;</span><span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;pre&gt;</span>
      (l,a,b,2)
      (2,0)(3,0)(0,0)
      (0,0)(4,5)(0,0)
      (0,0)(0,0)(4,0)
      (0,0)(5,0)(5,0)
      (<span class="keyword">*</span>,<span class="keyword">*</span>)(<span class="keyword">*</span>,<span class="keyword">*</span>)(<span class="keyword">*</span>,<span class="keyword">*</span>)
      略 ...
      <span class="variable">&lt;/pre&gt;</span>
  <span class="variable">&lt;strong&gt;</span>Example Output:<span class="variable">&lt;/strong&gt;</span><span class="variable">&lt;br/&gt;</span>
      <span class="variable">&lt;pre&gt;</span>
      (a,b)
      (1,2)(<span class="keyword">*</span>3,4,5)(0)
      (<span class="keyword">*</span>3,4,5)(<span class="keyword">*</span>5)(<span class="keyword">*</span>4,5)
      (<span class="keyword">*</span>5)(0)(0)
      (<span class="keyword">*</span>4,5)(<span class="keyword">*</span>5)(<span class="keyword">*</span>5)
      略 ...
      <span class="variable">&lt;/pre&gt;</span>
</code></pre></li>
</ul>
<h2 id="Hexo">Hexo</h2>
<ul>
<li>文章格式<pre><code>  <span class="attribute">title</span>: <span class="string">Scarky 您的博客線上檢測系統</span>
  <span class="attribute">date</span>: <span class="string">2014-04-17 19:35:27</span>
  <span class="attribute">tags</span>: <span class="string">[Scarky, ACM, Judge]</span>
  <span class="attribute">categories</span>: <span class="string">出題解題</span>
  <span class="attribute">scarky</span>: <span class="string">PNFCQOY5</span>
</code></pre></li>
<li>文章顯示<figure class="highlight"><figcaption><span>theme/layout/_partial/post/article.ejs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"main"</span> <span class="attribute">class</span>=<span class="value">"&lt;%= item.layout %&gt;"</span> <span class="attribute">itemscope</span> <span class="attribute">itemprop</span>=<span class="value">"blogPost"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="title">article</span> <span class="attribute">itemprop</span>=<span class="value">"articleBody"</span>&gt;</span> </div><div class="line">		<span class="vbscript">&lt;%- partial(<span class="comment">'header') %&gt;</span></span></div><div class="line">	<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"article-content"</span>&gt;</span></div><div class="line">		<span class="vbscript">&lt;%- partial(<span class="comment">'gallery') %&gt;</span></span></div><div class="line">		<span class="vbscript">&lt;% <span class="keyword">if</span>( table&amp;&amp;(item.toc !== <span class="literal">false</span>) &amp;&amp; theme.toc.article){ %&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"toc"</span> <span class="attribute">class</span>=<span class="value">"toc-article"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="title">strong</span> <span class="attribute">class</span>=<span class="value">"toc-title"</span>&gt;</span><span class="vbscript">&lt;%= __(<span class="comment">'contents') %&gt;</span></span><span class="tag">&lt;/<span class="title">strong</span>&gt;</span></div><div class="line">		<span class="vbscript">&lt;%- toc(item.content) %&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">		<span class="vbscript">&lt;% } %&gt;</span></div><div class="line">		<span class="vbscript">&lt;% <span class="keyword">if</span>(item.scarky) { %&gt;</span></div><div class="line">			<span class="comment">&lt;!-- scarky widget http://scarky.com/ --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"http://scarky.com/widget/get/&lt;%= item.scarky %&gt;/"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- end scarky widget --&gt;</span></div><div class="line">		<span class="vbscript">&lt;% } %&gt;</span></div><div class="line">		<span class="vbscript">&lt;%- item.content %&gt;</span>  </div><div class="line">	<span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">		<span class="vbscript">&lt;%- partial(<span class="comment">'footer') %&gt;</span></span>   	       </div><div class="line">	<span class="tag">&lt;/<span class="title">article</span>&gt;</span></div><div class="line">	<span class="vbscript">&lt;%- partial(<span class="comment">'pagination') %&gt;</span></span></div><div class="line">	<span class="vbscript">&lt;%- partial(<span class="comment">'comment') %&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span>  </div></pre></td></tr></table></figure></li>
</ul>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/categories/解題區/page/44/">&laquo; Prev</a><a class="page-number" href="/categories/解題區/">1</a><span class="space">&hellip;</span><a class="page-number" href="/categories/解題區/page/43/">43</a><a class="page-number" href="/categories/解題區/page/44/">44</a><span class="page-number current">45</span>
    </nav>
  
</section>
          
            <aside id="sidebar">
  <div id="ukagaka_panel"></div>

  

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">46</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">449</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">409</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2015/04/20/2015-google-code-jam-1A/">
              
                <i class="icon-file-o"></i> 
              
            2015 Google Code Jam Round 1A</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1115/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1115 - Water Shortage</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1089/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1089 - Suffix-Replacement Grammars</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1084/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1084 - Deer-Proof Fence</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1080/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1080 - My Bad</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1078/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1078 - Steam Roller</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1076/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1076 - Password Suspects</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1063/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1063 - Marble Game</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1049/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1049 - Remember the A La Mode</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1048/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1048 - Low Cost Air Travel</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget widget-background1">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮神"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="#" title=""><i class="icon-github-alt"></i> Can you translate world for me ?</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
</aside>

          
            
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://plus.google.com/u/0/108158678174364359204" target="_blank" title="Google+"><i class="icon-google-plus-sign"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2015 Shiang-Yun Yang 
    </div>  

  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/picture" class="mobile-nav-link">Pictures</a>
  
    <a href="/works" class="mobile-nav-link">Works</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/jquery.lazyload.js" type="text/javascript"></script>

<script src="/js/jquery.als-1.6.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>