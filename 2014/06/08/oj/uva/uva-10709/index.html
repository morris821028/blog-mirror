<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="/img/f.png">
  
  <title>UVa 10709 - Intersection is Not that Easy | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Problem
In this problem your job is to find the distance between two lines or a line and a line segment or two line segments. Suppose we have two points A(x1,y1) and B(x2,y2) on a two dimensional Cart">
<meta property="og:type" content="article">
<meta property="og:title" content="UVa 10709 - Intersection is Not that Easy">
<meta property="og:url" content="http://morris821028.github.io/2014/06/08/oj/uva/uva-10709/">
<meta property="og:site_name" content="Morris' Blog">
<meta property="og:description" content="Problem
In this problem your job is to find the distance between two lines or a line and a line segment or two line segments. Suppose we have two points A(x1,y1) and B(x2,y2) on a two dimensional Cart">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UVa 10709 - Intersection is Not that Easy">
<meta name="twitter:description" content="Problem
In this problem your job is to find the distance between two lines or a line and a line segment or two line segments. Suppose we have two points A(x1,y1) and B(x2,y2) on a two dimensional Cart">
<link rel="publisher" href="108158678174364350000">

  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Can you find me ?</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main"><article id="post-oj/uva/uva-10709" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/08/oj/uva/uva-10709/" class="article-date">
  <time datetime="2014-06-08T08:54:39.000Z" itemprop="datePublished">Jun 8 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      UVa 10709 - Intersection is Not that Easy
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/08/oj/uva/uva-10709/" data-id="fonhmj7vctq1adqj" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/08/oj/uva/uva-10709/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/線段交/">線段交</a></li></ul>

    </footer>
    <div class="article-entry " itemprop="articleBody">
      
          
        
          <h2 id="Problem">Problem</h2>
<p>In this problem your job is to find the distance between two lines or a line and a line segment or two line segments. Suppose we have two points A(x1,y1) and B(x2,y2) on a two dimensional Cartesian plane. If we connect A and B then we get line segment AB. But if we connect AB and extend it on both side at infinite length then we get line AB.</p>
<h2 id="Input">Input</h2>
<p>The input file contains several sets of inputs. The description of each set of input is given below:</p>
<p>The description for each set of input is given in two lines. Each line contains four integers and a string. First line contains x1, y1, x2, y2 and S1 and the second line contains x3, y3, x4, y4 and S2. The value of S1 and S2 can be either “L” or “LS” which stands for “Line” and “Line-segment” respectively. (x1, y1) and (x2, y2) are the endpoints of first line segment or they are just two different points on the first line depending on the value of S1. The same story applies for the second input line for this set. Input is terminated by a set where the value of S1 and S1 is “END”. This set should not be processed. Point (x1,y1) and (x2,y2) are always different. Similarly point (x3,y3) and (x4,y4) are also always different. All the integers in the input file have absolute value less than 101.</p>
<h2 id="Output">Output</h2>
<p>For each set of input you should produce one line of output which contains a single floating-point number indicating the distance between the two lines or line segments or the distance between one line and one line segment. This floating-point number contains five digits after the decimal point. Errors less than 2e-5 will be ignored.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">10</span> <span class="number">10</span> <span class="number">20</span> <span class="number">20</span> L</div><div class="line">-<span class="number">10</span> –<span class="number">10</span> <span class="number">19</span> <span class="number">19</span> L</div><div class="line"><span class="number">10</span> <span class="number">10</span> <span class="number">12</span> <span class="number">13</span> LS</div><div class="line"><span class="number">11</span> <span class="number">11</span> <span class="number">19</span> <span class="number">20</span> LS</div><div class="line"><span class="number">10</span> <span class="number">10</span> <span class="number">12</span> <span class="number">12</span> <span class="keyword">END</span></div><div class="line"><span class="number">11</span> <span class="number">11</span> <span class="number">23</span> <span class="number">34</span> <span class="keyword">END</span></div></pre></td></tr></table></figure>

<h2 id="Output_for_Sample_Input">Output for Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">0.00000</div><div class="line">0.27735</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p><strong> 題目描述： </strong></p>
<p>詢問 線段/線 和 線段/線 之間的最短距離為何。</p>
<p><strong> 題目解法： </strong></p>
<p>據說這一題精準度卡很緊，上一次是在兩年前寫這一題，那是使用投影判斷，果真死在精度？</p>
<p>總之，為了避開投影精準度問題，使用外積和內積來判斷我們所有需要的條件。</p>
<ul>
<li>兩線斷是否相交</li>
<li>一個點是否在線段兩端點之間 (線段上方/下方)</li>
<li>是否在線段上</li>
</ul>
<p>以上三點接能只靠加減乘來完成，由於輸入值都是整數，不會有精度上的問題。</p>
<p>接著，個別討論所有配對情況要如何判斷。</p>
<ul>
<li>線段與線段<ul>
<li>相交，最鄰近距離 0。</li>
<li>不相交，查閱是否能作投影，否則直接查閱到端點的距離。</li>
</ul>
</li>
<li>線與線<ul>
<li>不平行，最鄰近距離 0。</li>
<li>平行，直接調用公式計算兩線距離。 // 當然可以調用投影距離。</li>
</ul>
</li>
<li>線與線段<ul>
<li>線段跨過線的兩側，最鄰近距離 0</li>
<li>同側，直接做投影。</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> eps 1e-6</span></div><div class="line"><span class="keyword">struct</span> Pt {</div><div class="line">    <span class="keyword">int</span> x, y;</div><div class="line">    Pt(<span class="keyword">int</span> a = <span class="number">0</span>, <span class="keyword">int</span> b = <span class="number">0</span>):</div><div class="line">    	x(a), y(b) {}</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> {</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(x-a.x) &gt; eps)</div><div class="line">            <span class="keyword">return</span> x &lt; a.x;</div><div class="line">        <span class="keyword">return</span> y &lt; a.y;</div><div class="line">    }</div><div class="line">	Pt <span class="keyword">operator</span>-(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> {</div><div class="line">		Pt ret;</div><div class="line">		ret.x = x - a.x;</div><div class="line">		ret.y = y - a.y;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    }</div><div class="line">};</div><div class="line"><span class="keyword">enum</span> LINE_TYPE {LINE, SEGMENT};</div><div class="line"><span class="keyword">struct</span> LINE2D {</div><div class="line">    Pt s, e;</div><div class="line">    LINE_TYPE type;</div><div class="line">};</div><div class="line"><span class="keyword">double</span> dist(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> hypot(a.x - b.x, a.y - b.y);</div><div class="line">}</div><div class="line"><span class="keyword">double</span> dot(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> a.x * b.x + a.y * b.y;</div><div class="line">}</div><div class="line"><span class="keyword">double</span> cross2(Pt a, Pt b) {</div><div class="line">	<span class="keyword">return</span> a.x * b.y - a.y * b.x;</div><div class="line">}</div><div class="line"><span class="keyword">double</span> cross(Pt o, Pt a, Pt b) {</div><div class="line">    <span class="keyword">return</span> (a.x-o.x)*(b.y-o.y)-(a.y-o.y)*(b.x-o.x);</div><div class="line">}</div><div class="line"><span class="keyword">int</span> between(Pt a, Pt b, Pt c) {</div><div class="line">	<span class="keyword">return</span> dot(c - a, b - a) &gt;= <span class="number">0</span> &amp;&amp; dot(c - b, a - b) &gt;= <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> onSeg(Pt a, Pt b, Pt c) {</div><div class="line">	<span class="keyword">return</span> between(a, b, c) &amp;&amp; <span class="built_in">fabs</span>(cross(a, b, c)) &lt; eps;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> intersection(Pt as, Pt at, Pt bs, Pt bt) {</div><div class="line">    <span class="keyword">if</span>(cross(as, at, bs) * cross(as, at, bt) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">       cross(at, as, bs) * cross(at, as, bt) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">       cross(bs, bt, as) * cross(bs, bt, at) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">       cross(bt, bs, as) * cross(bt, bs, at) &lt; <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="keyword">double</span> distProjection(Pt as, Pt at, Pt s) {</div><div class="line">	<span class="keyword">int</span> a, b, c;</div><div class="line">	a = at.y - as.y;</div><div class="line">	b = as.x - at.x;</div><div class="line">	c = - (a * as.x + b * as.y);</div><div class="line">	<span class="keyword">return</span> <span class="built_in">fabs</span>(a * s.x + b * s.y + c) / hypot(a, b);</div><div class="line">}</div><div class="line"><span class="keyword">double</span> closest(LINE2D l1, LINE2D l2) {</div><div class="line">	<span class="keyword">if</span>(l1.type == SEGMENT &amp;&amp; l2.type == SEGMENT) {</div><div class="line">		<span class="keyword">if</span>(intersection(l1.s, l1.e, l2.s, l2.e))</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">double</span> c = <span class="number">1e+30</span>;</div><div class="line">		<span class="keyword">if</span>(between(l1.s, l1.e, l2.s))</div><div class="line">			c = min(c, distProjection(l1.s, l1.e, l2.s));</div><div class="line">		<span class="keyword">else</span></div><div class="line">			c = min(c, min(dist(l1.s, l2.s), dist(l1.e, l2.s)));</div><div class="line">			</div><div class="line">		<span class="keyword">if</span>(between(l1.s, l1.e, l2.e))</div><div class="line">			c = min(c, distProjection(l1.s, l1.e, l2.e));</div><div class="line">		<span class="keyword">else</span></div><div class="line">			c = min(c, min(dist(l1.s, l2.e), dist(l1.e, l2.e)));</div><div class="line">		<span class="comment">/* opposite */</span></div><div class="line">		<span class="keyword">if</span>(between(l2.s, l2.e, l1.s))</div><div class="line">			c = min(c, distProjection(l2.s, l2.e, l1.s));</div><div class="line">		<span class="keyword">else</span></div><div class="line">			c = min(c, min(dist(l1.s, l2.s), dist(l1.e, l2.s)));</div><div class="line">			</div><div class="line">		<span class="keyword">if</span>(between(l2.s, l2.e, l1.e))</div><div class="line">			c = min(c, distProjection(l2.s, l2.e, l1.e));</div><div class="line">		<span class="keyword">else</span></div><div class="line">			c = min(c, min(dist(l2.s, l1.e), dist(l2.e, l1.e)));</div><div class="line">		<span class="keyword">return</span> c;</div><div class="line">	}</div><div class="line">	<span class="keyword">if</span>(l1.type == LINE &amp;&amp; l2.type == LINE) {</div><div class="line">		<span class="keyword">int</span> a1, a2, b1, b2, c1, c2;</div><div class="line">		a1 = l1.s.y - l1.e.y;</div><div class="line">		b1 = l1.e.x - l1.s.x;</div><div class="line">		c1 = - (a1 * l1.s.x + b1 * l1.s.y);</div><div class="line">		a2 = l2.s.y - l2.e.y;</div><div class="line">		b2 = l2.e.x - l2.s.x;</div><div class="line">		c2 = - (a2 * l2.s.x + b2 * l2.s.y);</div><div class="line">		<span class="keyword">if</span>(a1 * b2 - a2 * b1 != <span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span> distProjection(l1.s, l1.e, l2.s);</div><div class="line">	}</div><div class="line">	<span class="keyword">if</span>(l1.type != l2.type) {</div><div class="line">		<span class="keyword">if</span>(l1.type == SEGMENT)</div><div class="line">			swap(l1, l2);</div><div class="line">		<span class="comment">/* l1 LINE, l2 SEGMENT*/</span></div><div class="line">		<span class="keyword">int</span> a1, b1, c1;</div><div class="line">		a1 = l1.s.y - l1.e.y;</div><div class="line">		b1 = l1.e.x - l1.s.x;</div><div class="line">		c1 = - (a1 * l1.s.x + b1 * l1.s.y);</div><div class="line">		<span class="keyword">int</span> v1, v2;</div><div class="line">		v1 = a1 * l2.s.x + b1 * l2.s.y + c1;</div><div class="line">		v2 = a1 * l2.e.x + b1 * l2.e.y + c1;</div><div class="line">		<span class="keyword">if</span>(v1 * v2 &lt;= <span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// different side</span></div><div class="line">		<span class="keyword">return</span> min(distProjection(l1.s, l1.e, l2.s), distProjection(l1.s, l1.e, l2.e));</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="comment">// freopen("in.txt", "r+t", stdin);</span></div><div class="line">	<span class="comment">// freopen("out.txt", "w+t", stdout); </span></div><div class="line">	<span class="keyword">int</span> x1, x2, y1, y2;</div><div class="line">	LINE2D l1, l2;</div><div class="line">	<span class="keyword">char</span> s[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %s"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2, s) == <span class="number">5</span> &amp;&amp; s[<span class="number">0</span>] != <span class="string">'E'</span>) {</div><div class="line">		l1.s = Pt(x1, y1), l1.e = Pt(x2, y2);</div><div class="line">		<span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="string">"L"</span>, s))</div><div class="line">			l1.type = LINE;</div><div class="line">		<span class="keyword">else</span></div><div class="line">			l1.type = SEGMENT;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %s"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2, s);</div><div class="line">		l2.s = Pt(x1, y1), l2.e = Pt(x2, y2);</div><div class="line">		<span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="string">"L"</span>, s))</div><div class="line">			l2.type = LINE;</div><div class="line">		<span class="keyword">else</span></div><div class="line">			l2.type = SEGMENT;</div><div class="line">		<span class="keyword">double</span> ret = closest(l1, l2);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.5lf\n"</span>, ret);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="comment">/*</span></div><div class="line">10 10 20 20 L</div><div class="line">-10 -10 19 19 L</div><div class="line"></div><div class="line">10 10 12 13 LS</div><div class="line">11 11 19 20 LS</div><div class="line"></div><div class="line">1 1 2 2 LS</div><div class="line">3 3 4 4 LS</div><div class="line"></div><div class="line">1 1 2 2 LS</div><div class="line">3 3 4 4 L</div><div class="line"></div><div class="line">10 10 12 12 END</div><div class="line">11 11 23 34 END</div><div class="line">*/</div></pre></td></tr></table></figure>
        
      
    </div>

  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/06/09/lesson/hw-ci-paper/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          論文選讀 Building optimal regression tree by ant colony system ...
        
      </div>
    </a>
  
  
    <a href="/2014/06/05/web/Hexo-tag-oj/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">製作 hexo-tag-oj</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
          
            <aside id="sidebar">
  <div id="ukagaka_panel"></div>

  

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">46</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">449</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">409</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2015/04/20/2015-google-code-jam-1A/">
              
                <i class="icon-file-o"></i> 
              
            2015 Google Code Jam Round 1A</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1115/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1115 - Water Shortage</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1089/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1089 - Suffix-Replacement Grammars</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1084/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1084 - Deer-Proof Fence</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1080/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1080 - My Bad</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1078/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1078 - Steam Roller</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1076/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1076 - Password Suspects</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1063/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1063 - Marble Game</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1049/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1049 - Remember the A La Mode</a>
          </li>
        
          <li>
            <a class="text" href="/2015/04/20/uva-1048/">
              
                <i class="icon-file-o"></i> 
              
            UVa 1048 - Low Cost Air Travel</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget widget-background1">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮神"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="#" title=""><i class="icon-github-alt"></i> Can you translate world for me ?</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
</aside>

          
            
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://plus.google.com/u/0/108158678174364359204" target="_blank" title="Google+"><i class="icon-google-plus-sign"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2015 Shiang-Yun Yang 
    </div>  

  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/picture" class="mobile-nav-link">Pictures</a>
  
    <a href="/works" class="mobile-nav-link">Works</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  var disqus_url = 'http://morris821028.github.io/2014/06/08/oj/uva/uva-10709/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/jquery.lazyload.js" type="text/javascript"></script>

<script src="/js/jquery.als-1.6.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>